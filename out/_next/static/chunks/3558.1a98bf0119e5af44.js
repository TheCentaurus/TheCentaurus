"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3558],{3558:function(e,t,n){n.r(t),n.d(t,{EthereumProvider:function(){return Ge},OPTIONAL_EVENTS:function(){return Le},OPTIONAL_METHODS:function(){return $e},REQUIRED_EVENTS:function(){return Me},REQUIRED_METHODS:function(){return De},default:function(){return Fe}});var r=n(17187),i=n.n(r),s=n(94590),o=n(53738),a=n(9107),c=n(65713),u=n(66736),l=n(56186);const h="client",p=`wc@2:${h}:`,f=h,d="error",g="WALLETCONNECT_DEEPLINK_CHOICE",v="Proposal expired",m=u.SEVEN_DAYS,y={wc_sessionPropose:{req:{ttl:u.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:u.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:u.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:u.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:u.ONE_DAY,prompt:!1,tag:1104},res:{ttl:u.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:u.ONE_DAY,prompt:!1,tag:1106},res:{ttl:u.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:u.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:u.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:u.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:u.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:u.ONE_DAY,prompt:!1,tag:1112},res:{ttl:u.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:u.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:u.THIRTY_SECONDS,prompt:!1,tag:1115}}},w={min:u.FIVE_MINUTES,max:u.SEVEN_DAYS},_="IDLE",I="ACTIVE",b=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"];var E=Object.defineProperty,P=Object.defineProperties,S=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertySymbols,R=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,q=(e,t,n)=>t in e?E(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,N=(e,t)=>{for(var n in t||(t={}))R.call(t,n)&&q(e,n,t[n]);if(C)for(var n of C(t))O.call(t,n)&&q(e,n,t[n]);return e},A=(e,t)=>P(e,S(t));class j extends c.W3{constructor(e){super(e),this.name="engine",this.events=new(i()),this.initialized=!1,this.ignoredPayloadTypes=[s.rV],this.requestQueue={state:_,queue:[]},this.sessionRequestQueue={state:_,queue:[]},this.requestQueueDelay=u.ONE_SECOND,this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),this.client.core.pairing.register({methods:Object.keys(y)}),this.initialized=!0,setTimeout((()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()}),(0,u.toMiliseconds)(this.requestQueueDelay)))},this.connect=async e=>{await this.isInitialized();const t=A(N({},e),{requiredNamespaces:e.requiredNamespaces||{},optionalNamespaces:e.optionalNamespaces||{}});await this.isValidConnect(t);const{pairingTopic:n,requiredNamespaces:r,optionalNamespaces:i,sessionProperties:a,relays:c}=t;let l,h=n,p=!1;if(h&&(p=this.client.core.pairing.pairings.get(h).active),!h||!p){const{topic:e,uri:t}=await this.client.core.pairing.create();h=e,l=t}const f=await this.client.core.crypto.generateKeyPair(),d=N({requiredNamespaces:r,optionalNamespaces:i,relays:c??[{protocol:o.ZF}],proposer:{publicKey:f,metadata:this.client.metadata}},a&&{sessionProperties:a}),{reject:g,resolve:m,done:y}=(0,s.H1)(u.FIVE_MINUTES,v);if(this.events.once((0,s.E0)("session_connect"),(async({error:e,session:t})=>{if(e)g(e);else if(t){t.self.publicKey=f;const e=A(N({},t),{requiredNamespaces:t.requiredNamespaces,optionalNamespaces:t.optionalNamespaces});await this.client.session.set(t.topic,e),await this.setExpiry(t.topic,t.expiry),h&&await this.client.core.pairing.updateMetadata({topic:h,metadata:t.peer.metadata}),m(e)}})),!h){const{message:e}=(0,s.Z7)("NO_MATCHING_KEY",`connect() pairing topic: ${h}`);throw new Error(e)}const w=await this.sendRequest({topic:h,method:"wc_sessionPropose",params:d}),_=(0,s.gn)(u.FIVE_MINUTES);return await this.setProposal(w,N({id:w,expiry:_},d)),{uri:l,approval:y}},this.pair=async e=>(await this.isInitialized(),await this.client.core.pairing.pair(e)),this.approve=async e=>{await this.isInitialized(),await this.isValidApprove(e);const{id:t,relayProtocol:n,namespaces:r,sessionProperties:i}=e,o=this.client.proposal.get(t);let{pairingTopic:a,proposer:c,requiredNamespaces:u,optionalNamespaces:l}=o;a=a||"",(0,s.L5)(u)||(u=(0,s.fc)(r,"approve()"));const h=await this.client.core.crypto.generateKeyPair(),p=c.publicKey,f=await this.client.core.crypto.generateSharedKey(h,p);a&&t&&(await this.client.core.pairing.updateMetadata({topic:a,metadata:c.metadata}),await this.sendResult({id:t,topic:a,result:{relay:{protocol:n??"irn"},responderPublicKey:h}}),await this.client.proposal.delete(t,(0,s.D6)("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:a}));const d=N({relay:{protocol:n??"irn"},namespaces:r,requiredNamespaces:u,optionalNamespaces:l,pairingTopic:a,controller:{publicKey:h,metadata:this.client.metadata},expiry:(0,s.gn)(m)},i&&{sessionProperties:i});await this.client.core.relayer.subscribe(f),await this.sendRequest({topic:f,method:"wc_sessionSettle",params:d,throwOnFailedPublish:!0});const g=A(N({},d),{topic:f,pairingTopic:a,acknowledged:!1,self:d.controller,peer:{publicKey:c.publicKey,metadata:c.metadata},controller:h});return await this.client.session.set(f,g),await this.setExpiry(f,(0,s.gn)(m)),{topic:f,acknowledged:()=>new Promise((e=>setTimeout((()=>e(this.client.session.get(f))),500)))}},this.reject=async e=>{await this.isInitialized(),await this.isValidReject(e);const{id:t,reason:n}=e,{pairingTopic:r}=this.client.proposal.get(t);r&&(await this.sendError(t,r,n),await this.client.proposal.delete(t,(0,s.D6)("USER_DISCONNECTED")))},this.update=async e=>{await this.isInitialized(),await this.isValidUpdate(e);const{topic:t,namespaces:n}=e,r=await this.sendRequest({topic:t,method:"wc_sessionUpdate",params:{namespaces:n}}),{done:i,resolve:o,reject:a}=(0,s.H1)();return this.events.once((0,s.E0)("session_update",r),(({error:e})=>{e?a(e):o()})),await this.client.session.update(t,{namespaces:n}),{acknowledged:i}},this.extend=async e=>{await this.isInitialized(),await this.isValidExtend(e);const{topic:t}=e,n=await this.sendRequest({topic:t,method:"wc_sessionExtend",params:{}}),{done:r,resolve:i,reject:o}=(0,s.H1)();return this.events.once((0,s.E0)("session_extend",n),(({error:e})=>{e?o(e):i()})),await this.setExpiry(t,(0,s.gn)(m)),{acknowledged:r}},this.request=async e=>{await this.isInitialized(),await this.isValidRequest(e);const{chainId:t,request:n,topic:r,expiry:i}=e,o=(0,l.payloadId)(),{done:a,resolve:c,reject:u}=(0,s.H1)(i,"Request expired. Please try again.");return this.events.once((0,s.E0)("session_request",o),(({error:e,result:t})=>{e?u(e):c(t)})),await Promise.all([new Promise((async e=>{await this.sendRequest({clientRpcId:o,topic:r,method:"wc_sessionRequest",params:{request:n,chainId:t},expiry:i,throwOnFailedPublish:!0}).catch((e=>u(e))),this.client.events.emit("session_request_sent",{topic:r,request:n,chainId:t,id:o}),e()})),new Promise((async e=>{const t=await this.client.core.storage.getItem(g);(0,s.Hh)({id:o,topic:r,wcDeepLink:t}),e()})),a()]).then((e=>e[2]))},this.respond=async e=>{await this.isInitialized(),await this.isValidRespond(e);const{topic:t,response:n}=e,{id:r}=n;(0,l.isJsonRpcResult)(n)?await this.sendResult({id:r,topic:t,result:n.result,throwOnFailedPublish:!0}):(0,l.isJsonRpcError)(n)&&await this.sendError(r,t,n.error),this.cleanupAfterResponse(e)},this.ping=async e=>{await this.isInitialized(),await this.isValidPing(e);const{topic:t}=e;if(this.client.session.keys.includes(t)){const e=await this.sendRequest({topic:t,method:"wc_sessionPing",params:{}}),{done:n,resolve:r,reject:i}=(0,s.H1)();this.events.once((0,s.E0)("session_ping",e),(({error:e})=>{e?i(e):r()})),await n()}else this.client.core.pairing.pairings.keys.includes(t)&&await this.client.core.pairing.ping({topic:t})},this.emit=async e=>{await this.isInitialized(),await this.isValidEmit(e);const{topic:t,event:n,chainId:r}=e;await this.sendRequest({topic:t,method:"wc_sessionEvent",params:{event:n,chainId:r}})},this.disconnect=async e=>{await this.isInitialized(),await this.isValidDisconnect(e);const{topic:t}=e;this.client.session.keys.includes(t)?(await this.sendRequest({topic:t,method:"wc_sessionDelete",params:(0,s.D6)("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession(t)):await this.client.core.pairing.disconnect({topic:t})},this.find=e=>(this.isInitialized(),this.client.session.getAll().filter((t=>(0,s.Ih)(t,e)))),this.getPendingSessionRequests=()=>(this.isInitialized(),this.client.pendingRequest.getAll()),this.cleanupDuplicatePairings=async e=>{if(e.pairingTopic)try{const t=this.client.core.pairing.pairings.get(e.pairingTopic),n=this.client.core.pairing.pairings.getAll().filter((n=>{var r,i;return(null==(r=n.peerMetadata)?void 0:r.url)&&(null==(i=n.peerMetadata)?void 0:i.url)===e.peer.metadata.url&&n.topic&&n.topic!==t.topic}));if(0===n.length)return;this.client.logger.info(`Cleaning up ${n.length} duplicate pairing(s)`),await Promise.all(n.map((e=>this.client.core.pairing.disconnect({topic:e.topic})))),this.client.logger.info("Duplicate pairings clean up finished")}catch(t){this.client.logger.error(t)}},this.deleteSession=async(e,t)=>{const{self:n}=this.client.session.get(e);await this.client.core.relayer.unsubscribe(e),this.client.session.delete(e,(0,s.D6)("USER_DISCONNECTED")),this.client.core.crypto.keychain.has(n.publicKey)&&await this.client.core.crypto.deleteKeyPair(n.publicKey),this.client.core.crypto.keychain.has(e)&&await this.client.core.crypto.deleteSymKey(e),t||this.client.core.expirer.del(e),this.client.core.storage.removeItem(g).catch((e=>this.client.logger.warn(e)))},this.deleteProposal=async(e,t)=>{await Promise.all([this.client.proposal.delete(e,(0,s.D6)("USER_DISCONNECTED")),t?Promise.resolve():this.client.core.expirer.del(e)])},this.deletePendingSessionRequest=async(e,t,n=!1)=>{await Promise.all([this.client.pendingRequest.delete(e,t),n?Promise.resolve():this.client.core.expirer.del(e)]),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter((t=>t.id!==e)),n&&(this.sessionRequestQueue.state=_)},this.setExpiry=async(e,t)=>{this.client.session.keys.includes(e)&&await this.client.session.update(e,{expiry:t}),this.client.core.expirer.set(e,t)},this.setProposal=async(e,t)=>{await this.client.proposal.set(e,t),this.client.core.expirer.set(e,t.expiry)},this.setPendingSessionRequest=async e=>{const t=y.wc_sessionRequest.req.ttl,{id:n,topic:r,params:i,verifyContext:o}=e;await this.client.pendingRequest.set(n,{id:n,topic:r,params:i,verifyContext:o}),t&&this.client.core.expirer.set(n,(0,s.gn)(t))},this.sendRequest=async e=>{const{topic:t,method:n,params:r,expiry:i,relayRpcId:o,clientRpcId:a,throwOnFailedPublish:c}=e,u=(0,l.formatJsonRpcRequest)(n,r,a);if((0,s.jU)()&&b.includes(n)){const e=(0,s.rj)(JSON.stringify(u));this.client.core.verify.register({attestationId:e})}const h=await this.client.core.crypto.encode(t,u),p=y[n].req;return i&&(p.ttl=i),o&&(p.id=o),this.client.core.history.set(t,u),c?(p.internal=A(N({},p.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(t,h,p)):this.client.core.relayer.publish(t,h,p).catch((e=>this.client.logger.error(e))),u.id},this.sendResult=async e=>{const{id:t,topic:n,result:r,throwOnFailedPublish:i}=e,s=(0,l.formatJsonRpcResult)(t,r),o=await this.client.core.crypto.encode(n,s),a=await this.client.core.history.get(n,t),c=y[a.request.method].res;i?(c.internal=A(N({},c.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,o,c)):this.client.core.relayer.publish(n,o,c).catch((e=>this.client.logger.error(e))),await this.client.core.history.resolve(s)},this.sendError=async(e,t,n)=>{const r=(0,l.formatJsonRpcError)(e,n),i=await this.client.core.crypto.encode(t,r),s=await this.client.core.history.get(t,e),o=y[s.request.method].res;this.client.core.relayer.publish(t,i,o),await this.client.core.history.resolve(r)},this.cleanup=async()=>{const e=[],t=[];this.client.session.getAll().forEach((t=>{(0,s.Bw)(t.expiry)&&e.push(t.topic)})),this.client.proposal.getAll().forEach((e=>{(0,s.Bw)(e.expiry)&&t.push(e.id)})),await Promise.all([...e.map((e=>this.deleteSession(e))),...t.map((e=>this.deleteProposal(e)))])},this.onRelayEventRequest=async e=>{this.requestQueue.queue.push(e),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state!==I){for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=I;const t=this.requestQueue.queue.shift();if(t)try{this.processRequest(t),await new Promise((e=>setTimeout(e,300)))}catch(e){this.client.logger.warn(e)}}this.requestQueue.state=_}else this.client.logger.info("Request queue already active, skipping...")},this.processRequest=e=>{const{topic:t,payload:n}=e,r=n.method;switch(r){case"wc_sessionPropose":return this.onSessionProposeRequest(t,n);case"wc_sessionSettle":return this.onSessionSettleRequest(t,n);case"wc_sessionUpdate":return this.onSessionUpdateRequest(t,n);case"wc_sessionExtend":return this.onSessionExtendRequest(t,n);case"wc_sessionPing":return this.onSessionPingRequest(t,n);case"wc_sessionDelete":return this.onSessionDeleteRequest(t,n);case"wc_sessionRequest":return this.onSessionRequest(t,n);case"wc_sessionEvent":return this.onSessionEventRequest(t,n);default:return this.client.logger.info(`Unsupported request method ${r}`)}},this.onRelayEventResponse=async e=>{const{topic:t,payload:n}=e,r=(await this.client.core.history.get(t,n.id)).request.method;switch(r){case"wc_sessionPropose":return this.onSessionProposeResponse(t,n);case"wc_sessionSettle":return this.onSessionSettleResponse(t,n);case"wc_sessionUpdate":return this.onSessionUpdateResponse(t,n);case"wc_sessionExtend":return this.onSessionExtendResponse(t,n);case"wc_sessionPing":return this.onSessionPingResponse(t,n);case"wc_sessionRequest":return this.onSessionRequestResponse(t,n);default:return this.client.logger.info(`Unsupported response method ${r}`)}},this.onRelayEventUnknownPayload=e=>{const{topic:t}=e,{message:n}=(0,s.Z7)("MISSING_OR_INVALID",`Decoded payload on topic ${t} is not identifiable as a JSON-RPC request or a response.`);throw new Error(n)},this.onSessionProposeRequest=async(e,t)=>{const{params:n,id:r}=t;try{this.isValidConnect(N({},t.params));const i=(0,s.gn)(u.FIVE_MINUTES),o=N({id:r,pairingTopic:e,expiry:i},n);await this.setProposal(r,o);const a=(0,s.rj)(JSON.stringify(t)),c=await this.getVerifyContext(a,o.proposer.metadata);this.client.events.emit("session_proposal",{id:r,params:o,verifyContext:c})}catch(i){await this.sendError(r,e,i),this.client.logger.error(i)}},this.onSessionProposeResponse=async(e,t)=>{const{id:n}=t;if((0,l.isJsonRpcResult)(t)){const{result:r}=t;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:r});const i=this.client.proposal.get(n);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:i});const s=i.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:s});const o=r.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:o});const a=await this.client.core.crypto.generateSharedKey(s,o);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:a});const c=await this.client.core.relayer.subscribe(a);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:c}),await this.client.core.pairing.activate({topic:e})}else(0,l.isJsonRpcError)(t)&&(await this.client.proposal.delete(n,(0,s.D6)("USER_DISCONNECTED")),this.events.emit((0,s.E0)("session_connect"),{error:t.error}))},this.onSessionSettleRequest=async(e,t)=>{const{id:n,params:r}=t;try{this.isValidSessionSettleRequest(r);const{relay:n,controller:i,expiry:o,namespaces:a,requiredNamespaces:c,optionalNamespaces:u,sessionProperties:l,pairingTopic:h}=t.params,p=N({topic:e,relay:n,expiry:o,namespaces:a,acknowledged:!0,pairingTopic:h,requiredNamespaces:c,optionalNamespaces:u,controller:i.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:i.publicKey,metadata:i.metadata}},l&&{sessionProperties:l});await this.sendResult({id:t.id,topic:e,result:!0}),this.events.emit((0,s.E0)("session_connect"),{session:p}),this.cleanupDuplicatePairings(p)}catch(i){await this.sendError(n,e,i),this.client.logger.error(i)}},this.onSessionSettleResponse=async(e,t)=>{const{id:n}=t;(0,l.isJsonRpcResult)(t)?(await this.client.session.update(e,{acknowledged:!0}),this.events.emit((0,s.E0)("session_approve",n),{})):(0,l.isJsonRpcError)(t)&&(await this.client.session.delete(e,(0,s.D6)("USER_DISCONNECTED")),this.events.emit((0,s.E0)("session_approve",n),{error:t.error}))},this.onSessionUpdateRequest=async(e,t)=>{const{params:n,id:r}=t;try{const t=`${e}_session_update`,i=s.O6.get(t);if(i&&this.isRequestOutOfSync(i,r))return void this.client.logger.info(`Discarding out of sync request - ${r}`);this.isValidUpdate(N({topic:e},n)),await this.client.session.update(e,{namespaces:n.namespaces}),await this.sendResult({id:r,topic:e,result:!0}),this.client.events.emit("session_update",{id:r,topic:e,params:n}),s.O6.set(t,r)}catch(i){await this.sendError(r,e,i),this.client.logger.error(i)}},this.isRequestOutOfSync=(e,t)=>parseInt(t.toString().slice(0,-3))<=parseInt(e.toString().slice(0,-3)),this.onSessionUpdateResponse=(e,t)=>{const{id:n}=t;(0,l.isJsonRpcResult)(t)?this.events.emit((0,s.E0)("session_update",n),{}):(0,l.isJsonRpcError)(t)&&this.events.emit((0,s.E0)("session_update",n),{error:t.error})},this.onSessionExtendRequest=async(e,t)=>{const{id:n}=t;try{this.isValidExtend({topic:e}),await this.setExpiry(e,(0,s.gn)(m)),await this.sendResult({id:n,topic:e,result:!0}),this.client.events.emit("session_extend",{id:n,topic:e})}catch(r){await this.sendError(n,e,r),this.client.logger.error(r)}},this.onSessionExtendResponse=(e,t)=>{const{id:n}=t;(0,l.isJsonRpcResult)(t)?this.events.emit((0,s.E0)("session_extend",n),{}):(0,l.isJsonRpcError)(t)&&this.events.emit((0,s.E0)("session_extend",n),{error:t.error})},this.onSessionPingRequest=async(e,t)=>{const{id:n}=t;try{this.isValidPing({topic:e}),await this.sendResult({id:n,topic:e,result:!0}),this.client.events.emit("session_ping",{id:n,topic:e})}catch(r){await this.sendError(n,e,r),this.client.logger.error(r)}},this.onSessionPingResponse=(e,t)=>{const{id:n}=t;setTimeout((()=>{(0,l.isJsonRpcResult)(t)?this.events.emit((0,s.E0)("session_ping",n),{}):(0,l.isJsonRpcError)(t)&&this.events.emit((0,s.E0)("session_ping",n),{error:t.error})}),500)},this.onSessionDeleteRequest=async(e,t)=>{const{id:n}=t;try{this.isValidDisconnect({topic:e,reason:t.params}),await Promise.all([new Promise((t=>{this.client.core.relayer.once(o.Mb.publish,(async()=>{t(await this.deleteSession(e))}))})),this.sendResult({id:n,topic:e,result:!0})]),this.client.events.emit("session_delete",{id:n,topic:e})}catch(r){this.client.logger.error(r)}},this.onSessionRequest=async(e,t)=>{const{id:n,params:r}=t;try{this.isValidRequest(N({topic:e},r));const t=(0,s.rj)(JSON.stringify((0,l.formatJsonRpcRequest)("wc_sessionRequest",r,n))),i=this.client.session.get(e),o={id:n,topic:e,params:r,verifyContext:await this.getVerifyContext(t,i.peer.metadata)};await this.setPendingSessionRequest(o),this.addSessionRequestToSessionRequestQueue(o),this.processSessionRequestQueue()}catch(i){await this.sendError(n,e,i),this.client.logger.error(i)}},this.onSessionRequestResponse=(e,t)=>{const{id:n}=t;(0,l.isJsonRpcResult)(t)?this.events.emit((0,s.E0)("session_request",n),{result:t.result}):(0,l.isJsonRpcError)(t)&&this.events.emit((0,s.E0)("session_request",n),{error:t.error})},this.onSessionEventRequest=async(e,t)=>{const{id:n,params:r}=t;try{const t=`${e}_session_event_${r.event.name}`,i=s.O6.get(t);if(i&&this.isRequestOutOfSync(i,n))return void this.client.logger.info(`Discarding out of sync request - ${n}`);this.isValidEmit(N({topic:e},r)),this.client.events.emit("session_event",{id:n,topic:e,params:r}),s.O6.set(t,n)}catch(i){await this.sendError(n,e,i),this.client.logger.error(i)}},this.addSessionRequestToSessionRequestQueue=e=>{this.sessionRequestQueue.queue.push(e)},this.cleanupAfterResponse=e=>{this.deletePendingSessionRequest(e.response.id,{message:"fulfilled",code:0}),setTimeout((()=>{this.sessionRequestQueue.state=_,this.processSessionRequestQueue()}),(0,u.toMiliseconds)(this.requestQueueDelay))},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===I)return void this.client.logger.info("session request queue is already active.");const e=this.sessionRequestQueue.queue[0];if(e)try{this.sessionRequestQueue.state=I,this.client.events.emit("session_request",e)}catch(t){this.client.logger.error(t)}else this.client.logger.info("session request queue is empty.")},this.onPairingCreated=e=>{if(e.active)return;const t=this.client.proposal.getAll().find((t=>t.pairingTopic===e.topic));t&&this.onSessionProposeRequest(e.topic,(0,l.formatJsonRpcRequest)("wc_sessionPropose",{requiredNamespaces:t.requiredNamespaces,optionalNamespaces:t.optionalNamespaces,relays:t.relays,proposer:t.proposer},t.id))},this.isValidConnect=async e=>{if(!(0,s.EJ)(e)){const{message:t}=(0,s.Z7)("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(e)}`);throw new Error(t)}const{pairingTopic:t,requiredNamespaces:n,optionalNamespaces:r,sessionProperties:i,relays:o}=e;if((0,s.o8)(t)||await this.isValidPairingTopic(t),!(0,s.PM)(o,!0)){const{message:e}=(0,s.Z7)("MISSING_OR_INVALID",`connect() relays: ${o}`);throw new Error(e)}!(0,s.o8)(n)&&0!==(0,s.L5)(n)&&this.validateNamespaces(n,"requiredNamespaces"),!(0,s.o8)(r)&&0!==(0,s.L5)(r)&&this.validateNamespaces(r,"optionalNamespaces"),(0,s.o8)(i)||this.validateSessionProps(i,"sessionProperties")},this.validateNamespaces=(e,t)=>{const n=(0,s.n)(e,"connect()",t);if(n)throw new Error(n.message)},this.isValidApprove=async e=>{if(!(0,s.EJ)(e))throw new Error((0,s.Z7)("MISSING_OR_INVALID",`approve() params: ${e}`).message);const{id:t,namespaces:n,relayProtocol:r,sessionProperties:i}=e;await this.isValidProposalId(t);const o=this.client.proposal.get(t),a=(0,s.in)(n,"approve()");if(a)throw new Error(a.message);const c=(0,s.rF)(o.requiredNamespaces,n,"approve()");if(c)throw new Error(c.message);if(!(0,s.M_)(r,!0)){const{message:e}=(0,s.Z7)("MISSING_OR_INVALID",`approve() relayProtocol: ${r}`);throw new Error(e)}(0,s.o8)(i)||this.validateSessionProps(i,"sessionProperties")},this.isValidReject=async e=>{if(!(0,s.EJ)(e)){const{message:t}=(0,s.Z7)("MISSING_OR_INVALID",`reject() params: ${e}`);throw new Error(t)}const{id:t,reason:n}=e;if(await this.isValidProposalId(t),!(0,s.$t)(n)){const{message:e}=(0,s.Z7)("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(n)}`);throw new Error(e)}},this.isValidSessionSettleRequest=e=>{if(!(0,s.EJ)(e)){const{message:t}=(0,s.Z7)("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${e}`);throw new Error(t)}const{relay:t,controller:n,namespaces:r,expiry:i}=e;if(!(0,s.Z2)(t)){const{message:e}=(0,s.Z7)("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(e)}const o=(0,s.Dd)(n,"onSessionSettleRequest()");if(o)throw new Error(o.message);const a=(0,s.in)(r,"onSessionSettleRequest()");if(a)throw new Error(a.message);if((0,s.Bw)(i)){const{message:e}=(0,s.Z7)("EXPIRED","onSessionSettleRequest()");throw new Error(e)}},this.isValidUpdate=async e=>{if(!(0,s.EJ)(e)){const{message:t}=(0,s.Z7)("MISSING_OR_INVALID",`update() params: ${e}`);throw new Error(t)}const{topic:t,namespaces:n}=e;await this.isValidSessionTopic(t);const r=this.client.session.get(t),i=(0,s.in)(n,"update()");if(i)throw new Error(i.message);const o=(0,s.rF)(r.requiredNamespaces,n,"update()");if(o)throw new Error(o.message)},this.isValidExtend=async e=>{if(!(0,s.EJ)(e)){const{message:t}=(0,s.Z7)("MISSING_OR_INVALID",`extend() params: ${e}`);throw new Error(t)}const{topic:t}=e;await this.isValidSessionTopic(t)},this.isValidRequest=async e=>{if(!(0,s.EJ)(e)){const{message:t}=(0,s.Z7)("MISSING_OR_INVALID",`request() params: ${e}`);throw new Error(t)}const{topic:t,request:n,chainId:r,expiry:i}=e;await this.isValidSessionTopic(t);const{namespaces:o}=this.client.session.get(t);if(!(0,s.p8)(o,r)){const{message:e}=(0,s.Z7)("MISSING_OR_INVALID",`request() chainId: ${r}`);throw new Error(e)}if(!(0,s.hH)(n)){const{message:e}=(0,s.Z7)("MISSING_OR_INVALID",`request() ${JSON.stringify(n)}`);throw new Error(e)}if(!(0,s.al)(o,r,n.method)){const{message:e}=(0,s.Z7)("MISSING_OR_INVALID",`request() method: ${n.method}`);throw new Error(e)}if(i&&!(0,s.ON)(i,w)){const{message:e}=(0,s.Z7)("MISSING_OR_INVALID",`request() expiry: ${i}. Expiry must be a number (in seconds) between ${w.min} and ${w.max}`);throw new Error(e)}},this.isValidRespond=async e=>{if(!(0,s.EJ)(e)){const{message:t}=(0,s.Z7)("MISSING_OR_INVALID",`respond() params: ${e}`);throw new Error(t)}const{topic:t,response:n}=e;if(await this.isValidSessionTopic(t),!(0,s.JT)(n)){const{message:e}=(0,s.Z7)("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(n)}`);throw new Error(e)}},this.isValidPing=async e=>{if(!(0,s.EJ)(e)){const{message:t}=(0,s.Z7)("MISSING_OR_INVALID",`ping() params: ${e}`);throw new Error(t)}const{topic:t}=e;await this.isValidSessionOrPairingTopic(t)},this.isValidEmit=async e=>{if(!(0,s.EJ)(e)){const{message:t}=(0,s.Z7)("MISSING_OR_INVALID",`emit() params: ${e}`);throw new Error(t)}const{topic:t,event:n,chainId:r}=e;await this.isValidSessionTopic(t);const{namespaces:i}=this.client.session.get(t);if(!(0,s.p8)(i,r)){const{message:e}=(0,s.Z7)("MISSING_OR_INVALID",`emit() chainId: ${r}`);throw new Error(e)}if(!(0,s.nf)(n)){const{message:e}=(0,s.Z7)("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw new Error(e)}if(!(0,s.sI)(i,r,n.name)){const{message:e}=(0,s.Z7)("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw new Error(e)}},this.isValidDisconnect=async e=>{if(!(0,s.EJ)(e)){const{message:t}=(0,s.Z7)("MISSING_OR_INVALID",`disconnect() params: ${e}`);throw new Error(t)}const{topic:t}=e;await this.isValidSessionOrPairingTopic(t)},this.getVerifyContext=async(e,t)=>{const n={verified:{verifyUrl:t.verifyUrl||o.sG,validation:"UNKNOWN",origin:t.url||""}};try{const r=await this.client.core.verify.resolve({attestationId:e,verifyUrl:t.verifyUrl});r&&(n.verified.origin=r.origin,n.verified.isScam=r.isScam,n.verified.validation=r.origin===new URL(t.url).origin?"VALID":"INVALID")}catch(r){this.client.logger.info(r)}return this.client.logger.info(`Verify context: ${JSON.stringify(n)}`),n},this.validateSessionProps=(e,t)=>{Object.values(e).forEach((e=>{if(!(0,s.M_)(e,!1)){const{message:n}=(0,s.Z7)("MISSING_OR_INVALID",`${t} must be in Record<string, string> format. Received: ${JSON.stringify(e)}`);throw new Error(n)}}))}}async isInitialized(){if(!this.initialized){const{message:e}=(0,s.Z7)("NOT_INITIALIZED",this.name);throw new Error(e)}await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(o.Mb.message,(async e=>{const{topic:t,message:n}=e;if(this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(n)))return;const r=await this.client.core.crypto.decode(t,n);try{(0,l.isJsonRpcRequest)(r)?(this.client.core.history.set(t,r),this.onRelayEventRequest({topic:t,payload:r})):(0,l.isJsonRpcResponse)(r)?(await this.client.core.history.resolve(r),await this.onRelayEventResponse({topic:t,payload:r}),this.client.core.history.delete(t,r.id)):this.onRelayEventUnknownPayload({topic:t,payload:r})}catch(i){this.client.logger.error(i)}}))}registerExpirerEvents(){this.client.core.expirer.on(o.i9.expired,(async e=>{const{topic:t,id:n}=(0,s.iP)(e.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,(0,s.Z7)("EXPIRED"),!0);t?this.client.session.keys.includes(t)&&(await this.deleteSession(t,!0),this.client.events.emit("session_expire",{topic:t})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))}))}registerPairingEvents(){this.client.core.pairing.events.on(o.I8.create,(e=>this.onPairingCreated(e)))}isValidPairingTopic(e){if(!(0,s.M_)(e,!1)){const{message:t}=(0,s.Z7)("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:t}=(0,s.Z7)("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(t)}if((0,s.Bw)(this.client.core.pairing.pairings.get(e).expiry)){const{message:t}=(0,s.Z7)("EXPIRED",`pairing topic: ${e}`);throw new Error(t)}}async isValidSessionTopic(e){if(!(0,s.M_)(e,!1)){const{message:t}=(0,s.Z7)("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(t)}if(!this.client.session.keys.includes(e)){const{message:t}=(0,s.Z7)("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(t)}if((0,s.Bw)(this.client.session.get(e).expiry)){await this.deleteSession(e);const{message:t}=(0,s.Z7)("EXPIRED",`session topic: ${e}`);throw new Error(t)}}async isValidSessionOrPairingTopic(e){if(this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else{if(!this.client.core.pairing.pairings.keys.includes(e)){if((0,s.M_)(e,!1)){const{message:t}=(0,s.Z7)("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(t)}{const{message:t}=(0,s.Z7)("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(t)}}this.isValidPairingTopic(e)}}async isValidProposalId(e){if(!(0,s.Q0)(e)){const{message:t}=(0,s.Z7)("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(t)}if(!this.client.proposal.keys.includes(e)){const{message:t}=(0,s.Z7)("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(t)}if((0,s.Bw)(this.client.proposal.get(e).expiry)){await this.deleteProposal(e);const{message:t}=(0,s.Z7)("EXPIRED",`proposal id: ${e}`);throw new Error(t)}}}class x extends o.yh{constructor(e,t){super(e,t,"proposal",p),this.core=e,this.logger=t}}class D extends o.yh{constructor(e,t){super(e,t,"session",p),this.core=e,this.logger=t}}class $ extends o.yh{constructor(e,t){super(e,t,"request",p,(e=>e.id)),this.core=e,this.logger=t}}class M extends c.lV{constructor(e){super(e),this.protocol="wc",this.version=2,this.name=f,this.events=new r.EventEmitter,this.on=(e,t)=>this.events.on(e,t),this.once=(e,t)=>this.events.once(e,t),this.off=(e,t)=>this.events.off(e,t),this.removeListener=(e,t)=>this.events.removeListener(e,t),this.removeAllListeners=e=>this.events.removeAllListeners(e),this.connect=async e=>{try{return await this.engine.connect(e)}catch(t){throw this.logger.error(t.message),t}},this.pair=async e=>{try{return await this.engine.pair(e)}catch(t){throw this.logger.error(t.message),t}},this.approve=async e=>{try{return await this.engine.approve(e)}catch(t){throw this.logger.error(t.message),t}},this.reject=async e=>{try{return await this.engine.reject(e)}catch(t){throw this.logger.error(t.message),t}},this.update=async e=>{try{return await this.engine.update(e)}catch(t){throw this.logger.error(t.message),t}},this.extend=async e=>{try{return await this.engine.extend(e)}catch(t){throw this.logger.error(t.message),t}},this.request=async e=>{try{return await this.engine.request(e)}catch(t){throw this.logger.error(t.message),t}},this.respond=async e=>{try{return await this.engine.respond(e)}catch(t){throw this.logger.error(t.message),t}},this.ping=async e=>{try{return await this.engine.ping(e)}catch(t){throw this.logger.error(t.message),t}},this.emit=async e=>{try{return await this.engine.emit(e)}catch(t){throw this.logger.error(t.message),t}},this.disconnect=async e=>{try{return await this.engine.disconnect(e)}catch(t){throw this.logger.error(t.message),t}},this.find=e=>{try{return this.engine.find(e)}catch(t){throw this.logger.error(t.message),t}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(e){throw this.logger.error(e.message),e}},this.name=e?.name||f,this.metadata=e?.metadata||(0,s.D)();const t=typeof e?.logger<"u"&&"string"!=typeof e?.logger?e.logger:(0,a.pino)((0,a.getDefaultLoggerOptions)({level:e?.logger||d}));this.core=e?.core||new o.QY(e),this.logger=(0,a.generateChildLogger)(t,this.name),this.session=new D(this.core,this.logger),this.proposal=new x(this.core,this.logger),this.pendingRequest=new $(this.core,this.logger),this.engine=new j(this)}static async init(e){const t=new M(e);return await t.initialize(),t}get context(){return(0,a.getLoggerContext)(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}}var L=n(54098),T=n.n(L);function k(e){if("string"!==typeof e)throw new Error("Cannot safe json parse value of type "+typeof e);try{return(e=>{const t=e.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3');return JSON.parse(t,((e,t)=>"string"===typeof t&&t.match(/^\d+n$/)?BigInt(t.substring(0,t.length-1)):t))})(e)}catch(t){return e}}function U(e){return"string"===typeof e?e:(t=e,JSON.stringify(t,((e,t)=>"bigint"===typeof t?t.toString()+"n":t))||"");var t}const V={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"};class W{constructor(e,t=!1){if(this.url=e,this.disableProviderPing=t,this.events=new r.EventEmitter,this.isAvailable=!1,this.registering=!1,!(0,l.isHttpUrl)(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=t}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e,t){this.isAvailable||await this.register();try{const t=U(e),n=await T()(this.url,Object.assign(Object.assign({},V),{body:t})),r=await n.json();this.onPayload({data:r})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!(0,l.isHttpUrl)(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise(((e,t)=>{this.events.once("register_error",(e=>{this.resetMaxListeners(),t(e)})),this.events.once("open",(()=>{if(this.resetMaxListeners(),"undefined"===typeof this.isAvailable)return t(new Error("HTTP connection is missing or invalid"));e()}))}))}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const t=U({id:1,jsonrpc:"2.0",method:"test",params:[]});await T()(e,Object.assign(Object.assign({},V),{body:t}))}this.onOpen()}catch(t){const e=this.parseError(t);throw this.events.emit("register_error",e),this.onClose(),e}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if("undefined"===typeof e.data)return;const t="string"===typeof e.data?k(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const n=this.parseError(t),r=n.message||n.toString(),i=(0,l.formatJsonRpcError)(e,r);this.events.emit("payload",i)}parseError(e,t=this.url){return(0,l.parseConnectionError)(e,t,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}}var H=W,z=n(46160);const J="error",Z="wc@2:universal_provider:",K="default_chain_changed";var B=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof n.g<"u"?n.g:typeof self<"u"?self:{},F={exports:{}};!function(e,t){(function(){var n,r="Expected a function",i="__lodash_hash_undefined__",s="__lodash_placeholder__",o=16,a=32,c=64,u=128,l=256,h=1/0,p=9007199254740991,f=NaN,d=4294967295,g=[["ary",u],["bind",1],["bindKey",2],["curry",8],["curryRight",o],["flip",512],["partial",a],["partialRight",c],["rearg",l]],v="[object Arguments]",m="[object Array]",y="[object Boolean]",w="[object Date]",_="[object Error]",I="[object Function]",b="[object GeneratorFunction]",E="[object Map]",P="[object Number]",S="[object Object]",C="[object Promise]",R="[object RegExp]",O="[object Set]",q="[object String]",N="[object Symbol]",A="[object WeakMap]",j="[object ArrayBuffer]",x="[object DataView]",D="[object Float32Array]",$="[object Float64Array]",M="[object Int8Array]",L="[object Int16Array]",T="[object Int32Array]",k="[object Uint8Array]",U="[object Uint8ClampedArray]",V="[object Uint16Array]",W="[object Uint32Array]",H=/\b__p \+= '';/g,z=/\b(__p \+=) '' \+/g,J=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Z=/&(?:amp|lt|gt|quot|#39);/g,K=/[&<>"']/g,F=RegExp(Z.source),G=RegExp(K.source),Q=/<%-([\s\S]+?)%>/g,Y=/<%([\s\S]+?)%>/g,X=/<%=([\s\S]+?)%>/g,ee=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,te=/^\w*$/,ne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,re=/[\\^$.*+?()[\]{}|]/g,ie=RegExp(re.source),se=/^\s+/,oe=/\s/,ae=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ce=/\{\n\/\* \[wrapped with (.+)\] \*/,ue=/,? & /,le=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,he=/[()=,{}\[\]\/\s]/,pe=/\\(\\)?/g,fe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,de=/\w*$/,ge=/^[-+]0x[0-9a-f]+$/i,ve=/^0b[01]+$/i,me=/^\[object .+?Constructor\]$/,ye=/^0o[0-7]+$/i,we=/^(?:0|[1-9]\d*)$/,_e=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ie=/($^)/,be=/['\n\r\u2028\u2029\\]/g,Ee="\\ud800-\\udfff",Pe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Se="\\u2700-\\u27bf",Ce="a-z\\xdf-\\xf6\\xf8-\\xff",Re="A-Z\\xc0-\\xd6\\xd8-\\xde",Oe="\\ufe0e\\ufe0f",qe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ne="['\u2019]",Ae="["+Ee+"]",je="["+qe+"]",xe="["+Pe+"]",De="\\d+",$e="["+Se+"]",Me="["+Ce+"]",Le="[^"+Ee+qe+De+Se+Ce+Re+"]",Te="\\ud83c[\\udffb-\\udfff]",ke="[^"+Ee+"]",Ue="(?:\\ud83c[\\udde6-\\uddff]){2}",Ve="[\\ud800-\\udbff][\\udc00-\\udfff]",We="["+Re+"]",He="\\u200d",ze="(?:"+Me+"|"+Le+")",Je="(?:"+We+"|"+Le+")",Ze="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ke="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Be="(?:"+xe+"|"+Te+")"+"?",Fe="["+Oe+"]?",Ge=Fe+Be+("(?:\\u200d(?:"+[ke,Ue,Ve].join("|")+")"+Fe+Be+")*"),Qe="(?:"+[$e,Ue,Ve].join("|")+")"+Ge,Ye="(?:"+[ke+xe+"?",xe,Ue,Ve,Ae].join("|")+")",Xe=RegExp(Ne,"g"),et=RegExp(xe,"g"),tt=RegExp(Te+"(?="+Te+")|"+Ye+Ge,"g"),nt=RegExp([We+"?"+Me+"+"+Ze+"(?="+[je,We,"$"].join("|")+")",Je+"+"+Ke+"(?="+[je,We+ze,"$"].join("|")+")",We+"?"+ze+"+"+Ze,We+"+"+Ke,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",De,Qe].join("|"),"g"),rt=RegExp("["+He+Ee+Pe+Oe+"]"),it=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,st=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ot=-1,at={};at[D]=at[$]=at[M]=at[L]=at[T]=at[k]=at[U]=at[V]=at[W]=!0,at[v]=at[m]=at[j]=at[y]=at[x]=at[w]=at[_]=at[I]=at[E]=at[P]=at[S]=at[R]=at[O]=at[q]=at[A]=!1;var ct={};ct[v]=ct[m]=ct[j]=ct[x]=ct[y]=ct[w]=ct[D]=ct[$]=ct[M]=ct[L]=ct[T]=ct[E]=ct[P]=ct[S]=ct[R]=ct[O]=ct[q]=ct[N]=ct[k]=ct[U]=ct[V]=ct[W]=!0,ct[_]=ct[I]=ct[A]=!1;var ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},lt=parseFloat,ht=parseInt,pt="object"==typeof B&&B&&B.Object===Object&&B,ft="object"==typeof self&&self&&self.Object===Object&&self,dt=pt||ft||Function("return this")(),gt=t&&!t.nodeType&&t,vt=gt&&e&&!e.nodeType&&e,mt=vt&&vt.exports===gt,yt=mt&&pt.process,wt=function(){try{return vt&&vt.require&&vt.require("util").types||yt&&yt.binding&&yt.binding("util")}catch{}}(),_t=wt&&wt.isArrayBuffer,It=wt&&wt.isDate,bt=wt&&wt.isMap,Et=wt&&wt.isRegExp,Pt=wt&&wt.isSet,St=wt&&wt.isTypedArray;function Ct(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Rt(e,t,n,r){for(var i=-1,s=null==e?0:e.length;++i<s;){var o=e[i];t(r,o,n(o),e)}return r}function Ot(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function qt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Nt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function At(e,t){for(var n=-1,r=null==e?0:e.length,i=0,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[i++]=o)}return s}function jt(e,t){return!!(null==e?0:e.length)&&Wt(e,t,0)>-1}function xt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Dt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function $t(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Mt(e,t,n,r){var i=-1,s=null==e?0:e.length;for(r&&s&&(n=e[++i]);++i<s;)n=t(n,e[i],i,e);return n}function Lt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Tt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var kt=Zt("length");function Ut(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Vt(e,t,n,r){for(var i=e.length,s=n+(r?1:-1);r?s--:++s<i;)if(t(e[s],s,e))return s;return-1}function Wt(e,t,n){return t===t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Vt(e,zt,n)}function Ht(e,t,n,r){for(var i=n-1,s=e.length;++i<s;)if(r(e[i],t))return i;return-1}function zt(e){return e!==e}function Jt(e,t){var n=null==e?0:e.length;return n?Ft(e,t)/n:f}function Zt(e){return function(t){return null==t?n:t[e]}}function Kt(e){return function(t){return null==e?n:e[t]}}function Bt(e,t,n,r,i){return i(e,(function(e,i,s){n=r?(r=!1,e):t(n,e,i,s)})),n}function Ft(e,t){for(var r,i=-1,s=e.length;++i<s;){var o=t(e[i]);o!==n&&(r=r===n?o:r+o)}return r}function Gt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Qt(e){return e&&e.slice(0,gn(e)+1).replace(se,"")}function Yt(e){return function(t){return e(t)}}function Xt(e,t){return Dt(t,(function(t){return e[t]}))}function en(e,t){return e.has(t)}function tn(e,t){for(var n=-1,r=e.length;++n<r&&Wt(t,e[n],0)>-1;);return n}function nn(e,t){for(var n=e.length;n--&&Wt(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var sn=Kt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),on=Kt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function an(e){return"\\"+ut[e]}function cn(e){return rt.test(e)}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function ln(e,t){return function(n){return e(t(n))}}function hn(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];(a===t||a===s)&&(e[n]=s,o[i++]=n)}return o}function pn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function fn(e){return cn(e)?function(e){for(var t=tt.lastIndex=0;tt.test(e);)++t;return t}(e):kt(e)}function dn(e){return cn(e)?function(e){return e.match(tt)||[]}(e):function(e){return e.split("")}(e)}function gn(e){for(var t=e.length;t--&&oe.test(e.charAt(t)););return t}var vn=Kt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var mn=function e(t){var B=(t=null==t?dt:mn.defaults(dt.Object(),t,mn.pick(dt,st))).Array,oe=t.Date,Ee=t.Error,Pe=t.Function,Se=t.Math,Ce=t.Object,Re=t.RegExp,Oe=t.String,qe=t.TypeError,Ne=B.prototype,Ae=Pe.prototype,je=Ce.prototype,xe=t["__core-js_shared__"],De=Ae.toString,$e=je.hasOwnProperty,Me=0,Le=function(){var e=/[^.]+$/.exec(xe&&xe.keys&&xe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Te=je.toString,ke=De.call(Ce),Ue=dt._,Ve=Re("^"+De.call($e).replace(re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),We=mt?t.Buffer:n,He=t.Symbol,ze=t.Uint8Array,Je=We?We.allocUnsafe:n,Ze=ln(Ce.getPrototypeOf,Ce),Ke=Ce.create,Be=je.propertyIsEnumerable,Fe=Ne.splice,Ge=He?He.isConcatSpreadable:n,Qe=He?He.iterator:n,Ye=He?He.toStringTag:n,tt=function(){try{var e=hs(Ce,"defineProperty");return e({},"",{}),e}catch{}}(),rt=t.clearTimeout!==dt.clearTimeout&&t.clearTimeout,ut=oe&&oe.now!==dt.Date.now&&oe.now,pt=t.setTimeout!==dt.setTimeout&&t.setTimeout,ft=Se.ceil,gt=Se.floor,vt=Ce.getOwnPropertySymbols,yt=We?We.isBuffer:n,wt=t.isFinite,kt=Ne.join,Kt=ln(Ce.keys,Ce),yn=Se.max,wn=Se.min,_n=oe.now,In=t.parseInt,bn=Se.random,En=Ne.reverse,Pn=hs(t,"DataView"),Sn=hs(t,"Map"),Cn=hs(t,"Promise"),Rn=hs(t,"Set"),On=hs(t,"WeakMap"),qn=hs(Ce,"create"),Nn=On&&new On,An={},jn=Ts(Pn),xn=Ts(Sn),Dn=Ts(Cn),$n=Ts(Rn),Mn=Ts(On),Ln=He?He.prototype:n,Tn=Ln?Ln.valueOf:n,kn=Ln?Ln.toString:n;function Un(e){if(na(e)&&!Jo(e)&&!(e instanceof zn)){if(e instanceof Hn)return e;if($e.call(e,"__wrapped__"))return ks(e)}return new Hn(e)}var Vn=function(){function e(){}return function(t){if(!ta(t))return{};if(Ke)return Ke(t);e.prototype=t;var r=new e;return e.prototype=n,r}}();function Wn(){}function Hn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=n}function zn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=d,this.__views__=[]}function Jn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Zn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Bn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Kn;++t<n;)this.add(e[t])}function Fn(e){var t=this.__data__=new Zn(e);this.size=t.size}function Gn(e,t){var n=Jo(e),r=!n&&zo(e),i=!n&&!r&&Fo(e),s=!n&&!r&&!i&&la(e),o=n||r||i||s,a=o?Gt(e.length,Oe):[],c=a.length;for(var u in e)(t||$e.call(e,u))&&(!o||!("length"==u||i&&("offset"==u||"parent"==u)||s&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ys(u,c)))&&a.push(u);return a}function Qn(e){var t=e.length;return t?e[Br(0,t-1)]:n}function Yn(e,t){return $s(qi(e),ar(t,0,e.length))}function Xn(e){return $s(qi(e))}function er(e,t,r){(r!==n&&!Vo(e[t],r)||r===n&&!(t in e))&&sr(e,t,r)}function tr(e,t,r){var i=e[t];(!$e.call(e,t)||!Vo(i,r)||r===n&&!(t in e))&&sr(e,t,r)}function nr(e,t){for(var n=e.length;n--;)if(Vo(e[n][0],t))return n;return-1}function rr(e,t,n,r){return pr(e,(function(e,i,s){t(r,e,n(e),s)})),r}function ir(e,t){return e&&Ni(t,ja(t),e)}function sr(e,t,n){"__proto__"==t&&tt?tt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function or(e,t){for(var r=-1,i=t.length,s=B(i),o=null==e;++r<i;)s[r]=o?n:Ra(e,t[r]);return s}function ar(e,t,r){return e===e&&(r!==n&&(e=e<=r?e:r),t!==n&&(e=e>=t?e:t)),e}function cr(e,t,r,i,s,o){var a,c=1&t,u=2&t,l=4&t;if(r&&(a=s?r(e,i,s,o):r(e)),a!==n)return a;if(!ta(e))return e;var h=Jo(e);if(h){if(a=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&$e.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!c)return qi(e,a)}else{var p=ds(e),f=p==I||p==b;if(Fo(e))return Ei(e,c);if(p==S||p==v||f&&!s){if(a=u||f?{}:vs(e),!c)return u?function(e,t){return Ni(e,fs(e),t)}(e,function(e,t){return e&&Ni(t,xa(t),e)}(a,e)):function(e,t){return Ni(e,ps(e),t)}(e,ir(a,e))}else{if(!ct[p])return s?e:{};a=function(e,t,n){var r=e.constructor;switch(t){case j:return Pi(e);case y:case w:return new r(+e);case x:return function(e,t){var n=t?Pi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case D:case $:case M:case L:case T:case k:case U:case V:case W:return Si(e,n);case E:return new r;case P:case q:return new r(e);case R:return function(e){var t=new e.constructor(e.source,de.exec(e));return t.lastIndex=e.lastIndex,t}(e);case O:return new r;case N:return function(e){return Tn?Ce(Tn.call(e)):{}}(e)}}(e,p,c)}}o||(o=new Fn);var d=o.get(e);if(d)return d;o.set(e,a),aa(e)?e.forEach((function(n){a.add(cr(n,t,r,n,e,o))})):ra(e)&&e.forEach((function(n,i){a.set(i,cr(n,t,r,i,e,o))}));var g=h?n:(l?u?is:rs:u?xa:ja)(e);return Ot(g||e,(function(n,i){g&&(n=e[i=n]),tr(a,i,cr(n,t,r,i,e,o))})),a}function ur(e,t,r){var i=r.length;if(null==e)return!i;for(e=Ce(e);i--;){var s=r[i],o=t[s],a=e[s];if(a===n&&!(s in e)||!o(a))return!1}return!0}function lr(e,t,i){if("function"!=typeof e)throw new qe(r);return As((function(){e.apply(n,i)}),t)}function hr(e,t,n,r){var i=-1,s=jt,o=!0,a=e.length,c=[],u=t.length;if(!a)return c;n&&(t=Dt(t,Yt(n))),r?(s=xt,o=!1):t.length>=200&&(s=en,o=!1,t=new Bn(t));e:for(;++i<a;){var l=e[i],h=null==n?l:n(l);if(l=r||0!==l?l:0,o&&h===h){for(var p=u;p--;)if(t[p]===h)continue e;c.push(l)}else s(t,h,r)||c.push(l)}return c}Un.templateSettings={escape:Q,evaluate:Y,interpolate:X,variable:"",imports:{_:Un}},Un.prototype=Wn.prototype,Un.prototype.constructor=Un,Hn.prototype=Vn(Wn.prototype),Hn.prototype.constructor=Hn,zn.prototype=Vn(Wn.prototype),zn.prototype.constructor=zn,Jn.prototype.clear=function(){this.__data__=qn?qn(null):{},this.size=0},Jn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Jn.prototype.get=function(e){var t=this.__data__;if(qn){var r=t[e];return r===i?n:r}return $e.call(t,e)?t[e]:n},Jn.prototype.has=function(e){var t=this.__data__;return qn?t[e]!==n:$e.call(t,e)},Jn.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=qn&&t===n?i:t,this},Zn.prototype.clear=function(){this.__data__=[],this.size=0},Zn.prototype.delete=function(e){var t=this.__data__,n=nr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Fe.call(t,n,1),--this.size,!0)},Zn.prototype.get=function(e){var t=this.__data__,r=nr(t,e);return r<0?n:t[r][1]},Zn.prototype.has=function(e){return nr(this.__data__,e)>-1},Zn.prototype.set=function(e,t){var n=this.__data__,r=nr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Kn.prototype.clear=function(){this.size=0,this.__data__={hash:new Jn,map:new(Sn||Zn),string:new Jn}},Kn.prototype.delete=function(e){var t=us(this,e).delete(e);return this.size-=t?1:0,t},Kn.prototype.get=function(e){return us(this,e).get(e)},Kn.prototype.has=function(e){return us(this,e).has(e)},Kn.prototype.set=function(e,t){var n=us(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Bn.prototype.add=Bn.prototype.push=function(e){return this.__data__.set(e,i),this},Bn.prototype.has=function(e){return this.__data__.has(e)},Fn.prototype.clear=function(){this.__data__=new Zn,this.size=0},Fn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Fn.prototype.get=function(e){return this.__data__.get(e)},Fn.prototype.has=function(e){return this.__data__.has(e)},Fn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Zn){var r=n.__data__;if(!Sn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Kn(r)}return n.set(e,t),this.size=n.size,this};var pr=xi(_r),fr=xi(Ir,!0);function dr(e,t){var n=!0;return pr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function gr(e,t,r){for(var i=-1,s=e.length;++i<s;){var o=e[i],a=t(o);if(null!=a&&(c===n?a===a&&!ua(a):r(a,c)))var c=a,u=o}return u}function vr(e,t){var n=[];return pr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function mr(e,t,n,r,i){var s=-1,o=e.length;for(n||(n=ms),i||(i=[]);++s<o;){var a=e[s];t>0&&n(a)?t>1?mr(a,t-1,n,r,i):$t(i,a):r||(i[i.length]=a)}return i}var yr=Di(),wr=Di(!0);function _r(e,t){return e&&yr(e,t,ja)}function Ir(e,t){return e&&wr(e,t,ja)}function br(e,t){return At(t,(function(t){return Yo(e[t])}))}function Er(e,t){for(var r=0,i=(t=wi(t,e)).length;null!=e&&r<i;)e=e[Ls(t[r++])];return r&&r==i?e:n}function Pr(e,t,n){var r=t(e);return Jo(e)?r:$t(r,n(e))}function Sr(e){return null==e?e===n?"[object Undefined]":"[object Null]":Ye&&Ye in Ce(e)?function(e){var t=$e.call(e,Ye),r=e[Ye];try{e[Ye]=n;var i=!0}catch{}var s=Te.call(e);return i&&(t?e[Ye]=r:delete e[Ye]),s}(e):function(e){return Te.call(e)}(e)}function Cr(e,t){return e>t}function Rr(e,t){return null!=e&&$e.call(e,t)}function Or(e,t){return null!=e&&t in Ce(e)}function qr(e,t,r){for(var i=r?xt:jt,s=e[0].length,o=e.length,a=o,c=B(o),u=1/0,l=[];a--;){var h=e[a];a&&t&&(h=Dt(h,Yt(t))),u=wn(h.length,u),c[a]=!r&&(t||s>=120&&h.length>=120)?new Bn(a&&h):n}h=e[0];var p=-1,f=c[0];e:for(;++p<s&&l.length<u;){var d=h[p],g=t?t(d):d;if(d=r||0!==d?d:0,!(f?en(f,g):i(l,g,r))){for(a=o;--a;){var v=c[a];if(!(v?en(v,g):i(e[a],g,r)))continue e}f&&f.push(g),l.push(d)}}return l}function Nr(e,t,r){var i=null==(e=Rs(e,t=wi(t,e)))?e:e[Ls(Gs(t))];return null==i?n:Ct(i,e,r)}function Ar(e){return na(e)&&Sr(e)==v}function jr(e,t,r,i,s){return e===t||(null==e||null==t||!na(e)&&!na(t)?e!==e&&t!==t:function(e,t,r,i,s,o){var a=Jo(e),c=Jo(t),u=a?m:ds(e),l=c?m:ds(t),h=(u=u==v?S:u)==S,p=(l=l==v?S:l)==S,f=u==l;if(f&&Fo(e)){if(!Fo(t))return!1;a=!0,h=!1}if(f&&!h)return o||(o=new Fn),a||la(e)?ts(e,t,r,i,s,o):function(e,t,n,r,i,s,o){switch(n){case x:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case j:return!(e.byteLength!=t.byteLength||!s(new ze(e),new ze(t)));case y:case w:case P:return Vo(+e,+t);case _:return e.name==t.name&&e.message==t.message;case R:case q:return e==t+"";case E:var a=un;case O:var c=1&r;if(a||(a=pn),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;r|=2,o.set(e,t);var l=ts(a(e),a(t),r,i,s,o);return o.delete(e),l;case N:if(Tn)return Tn.call(e)==Tn.call(t)}return!1}(e,t,u,r,i,s,o);if(!(1&r)){var d=h&&$e.call(e,"__wrapped__"),g=p&&$e.call(t,"__wrapped__");if(d||g){var I=d?e.value():e,b=g?t.value():t;return o||(o=new Fn),s(I,b,r,i,o)}}return!!f&&(o||(o=new Fn),function(e,t,r,i,s,o){var a=1&r,c=rs(e),u=c.length,l=rs(t).length;if(u!=l&&!a)return!1;for(var h=u;h--;){var p=c[h];if(!(a?p in t:$e.call(t,p)))return!1}var f=o.get(e),d=o.get(t);if(f&&d)return f==t&&d==e;var g=!0;o.set(e,t),o.set(t,e);for(var v=a;++h<u;){var m=e[p=c[h]],y=t[p];if(i)var w=a?i(y,m,p,t,e,o):i(m,y,p,e,t,o);if(!(w===n?m===y||s(m,y,r,i,o):w)){g=!1;break}v||(v="constructor"==p)}if(g&&!v){var _=e.constructor,I=t.constructor;_!=I&&"constructor"in e&&"constructor"in t&&!("function"==typeof _&&_ instanceof _&&"function"==typeof I&&I instanceof I)&&(g=!1)}return o.delete(e),o.delete(t),g}(e,t,r,i,s,o))}(e,t,r,i,jr,s))}function xr(e,t,r,i){var s=r.length,o=s,a=!i;if(null==e)return!o;for(e=Ce(e);s--;){var c=r[s];if(a&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++s<o;){var u=(c=r[s])[0],l=e[u],h=c[1];if(a&&c[2]){if(l===n&&!(u in e))return!1}else{var p=new Fn;if(i)var f=i(l,h,u,e,t,p);if(!(f===n?jr(h,l,3,i,p):f))return!1}}return!0}function Dr(e){return!(!ta(e)||function(e){return!!Le&&Le in e}(e))&&(Yo(e)?Ve:me).test(Ts(e))}function $r(e){return"function"==typeof e?e:null==e?ic:"object"==typeof e?Jo(e)?Vr(e[0],e[1]):Ur(e):fc(e)}function Mr(e){if(!Es(e))return Kt(e);var t=[];for(var n in Ce(e))$e.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Lr(e){if(!ta(e))return function(e){var t=[];if(null!=e)for(var n in Ce(e))t.push(n);return t}(e);var t=Es(e),n=[];for(var r in e)"constructor"==r&&(t||!$e.call(e,r))||n.push(r);return n}function Tr(e,t){return e<t}function kr(e,t){var n=-1,r=Ko(e)?B(e.length):[];return pr(e,(function(e,i,s){r[++n]=t(e,i,s)})),r}function Ur(e){var t=ls(e);return 1==t.length&&t[0][2]?Ss(t[0][0],t[0][1]):function(n){return n===e||xr(n,e,t)}}function Vr(e,t){return _s(e)&&Ps(t)?Ss(Ls(e),t):function(r){var i=Ra(r,e);return i===n&&i===t?Oa(r,e):jr(t,i,3)}}function Wr(e,t,r,i,s){e!==t&&yr(t,(function(o,a){if(s||(s=new Fn),ta(o))!function(e,t,r,i,s,o,a){var c=qs(e,r),u=qs(t,r),l=a.get(u);if(l)return void er(e,r,l);var h=o?o(c,u,r+"",e,t,a):n,p=h===n;if(p){var f=Jo(u),d=!f&&Fo(u),g=!f&&!d&&la(u);h=u,f||d||g?Jo(c)?h=c:Bo(c)?h=qi(c):d?(p=!1,h=Ei(u,!0)):g?(p=!1,h=Si(u,!0)):h=[]:sa(u)||zo(u)?(h=c,zo(c)?h=ya(c):(!ta(c)||Yo(c))&&(h=vs(u))):p=!1}p&&(a.set(u,h),s(h,u,i,o,a),a.delete(u)),er(e,r,h)}(e,t,a,r,Wr,i,s);else{var c=i?i(qs(e,a),o,a+"",e,t,s):n;c===n&&(c=o),er(e,a,c)}}),xa)}function Hr(e,t){var r=e.length;if(r)return ys(t+=t<0?r:0,r)?e[t]:n}function zr(e,t,n){t=t.length?Dt(t,(function(e){return Jo(e)?function(t){return Er(t,1===e.length?e[0]:e)}:e})):[ic];var r=-1;t=Dt(t,Yt(cs()));var i=kr(e,(function(e,n,i){var s=Dt(t,(function(t){return t(e)}));return{criteria:s,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,s=t.criteria,o=i.length,a=n.length;++r<o;){var c=Ci(i[r],s[r]);if(c)return r>=a?c:c*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Jr(e,t,n){for(var r=-1,i=t.length,s={};++r<i;){var o=t[r],a=Er(e,o);n(a,o)&&Xr(s,wi(o,e),a)}return s}function Zr(e,t,n,r){var i=r?Ht:Wt,s=-1,o=t.length,a=e;for(e===t&&(t=qi(t)),n&&(a=Dt(e,Yt(n)));++s<o;)for(var c=0,u=t[s],l=n?n(u):u;(c=i(a,l,c,r))>-1;)a!==e&&Fe.call(a,c,1),Fe.call(e,c,1);return e}function Kr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==s){var s=i;ys(i)?Fe.call(e,i,1):hi(e,i)}}return e}function Br(e,t){return e+gt(bn()*(t-e+1))}function Fr(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=gt(t/2))&&(e+=e)}while(t);return n}function Gr(e,t){return js(Cs(e,t,ic),e+"")}function Qr(e){return Qn(Va(e))}function Yr(e,t){var n=Va(e);return $s(n,ar(t,0,n.length))}function Xr(e,t,r,i){if(!ta(e))return e;for(var s=-1,o=(t=wi(t,e)).length,a=o-1,c=e;null!=c&&++s<o;){var u=Ls(t[s]),l=r;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(s!=a){var h=c[u];(l=i?i(h,u,c):n)===n&&(l=ta(h)?h:ys(t[s+1])?[]:{})}tr(c,u,l),c=c[u]}return e}var ei=Nn?function(e,t){return Nn.set(e,t),e}:ic,ti=tt?function(e,t){return tt(e,"toString",{configurable:!0,enumerable:!1,value:tc(t),writable:!0})}:ic;function ni(e){return $s(Va(e))}function ri(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=B(i);++r<i;)s[r]=e[r+t];return s}function ii(e,t){var n;return pr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function si(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=2147483647){for(;r<i;){var s=r+i>>>1,o=e[s];null!==o&&!ua(o)&&(n?o<=t:o<t)?r=s+1:i=s}return i}return oi(e,t,ic,n)}function oi(e,t,r,i){var s=0,o=null==e?0:e.length;if(0===o)return 0;for(var a=(t=r(t))!==t,c=null===t,u=ua(t),l=t===n;s<o;){var h=gt((s+o)/2),p=r(e[h]),f=p!==n,d=null===p,g=p===p,v=ua(p);if(a)var m=i||g;else m=l?g&&(i||f):c?g&&f&&(i||!d):u?g&&f&&!d&&(i||!v):!d&&!v&&(i?p<=t:p<t);m?s=h+1:o=h}return wn(o,4294967294)}function ai(e,t){for(var n=-1,r=e.length,i=0,s=[];++n<r;){var o=e[n],a=t?t(o):o;if(!n||!Vo(a,c)){var c=a;s[i++]=0===o?0:o}}return s}function ci(e){return"number"==typeof e?e:ua(e)?f:+e}function ui(e){if("string"==typeof e)return e;if(Jo(e))return Dt(e,ui)+"";if(ua(e))return kn?kn.call(e):"";var t=e+"";return"0"==t&&1/e==-h?"-0":t}function li(e,t,n){var r=-1,i=jt,s=e.length,o=!0,a=[],c=a;if(n)o=!1,i=xt;else if(s>=200){var u=t?null:Fi(e);if(u)return pn(u);o=!1,i=en,c=new Bn}else c=t?[]:a;e:for(;++r<s;){var l=e[r],h=t?t(l):l;if(l=n||0!==l?l:0,o&&h===h){for(var p=c.length;p--;)if(c[p]===h)continue e;t&&c.push(h),a.push(l)}else i(c,h,n)||(c!==a&&c.push(h),a.push(l))}return a}function hi(e,t){return null==(e=Rs(e,t=wi(t,e)))||delete e[Ls(Gs(t))]}function pi(e,t,n,r){return Xr(e,t,n(Er(e,t)),r)}function fi(e,t,n,r){for(var i=e.length,s=r?i:-1;(r?s--:++s<i)&&t(e[s],s,e););return n?ri(e,r?0:s,r?s+1:i):ri(e,r?s+1:0,r?i:s)}function di(e,t){var n=e;return n instanceof zn&&(n=n.value()),Mt(t,(function(e,t){return t.func.apply(t.thisArg,$t([e],t.args))}),n)}function gi(e,t,n){var r=e.length;if(r<2)return r?li(e[0]):[];for(var i=-1,s=B(r);++i<r;)for(var o=e[i],a=-1;++a<r;)a!=i&&(s[i]=hr(s[i]||o,e[a],t,n));return li(mr(s,1),t,n)}function vi(e,t,r){for(var i=-1,s=e.length,o=t.length,a={};++i<s;){var c=i<o?t[i]:n;r(a,e[i],c)}return a}function mi(e){return Bo(e)?e:[]}function yi(e){return"function"==typeof e?e:ic}function wi(e,t){return Jo(e)?e:_s(e,t)?[e]:Ms(wa(e))}var _i=Gr;function Ii(e,t,r){var i=e.length;return r=r===n?i:r,!t&&r>=i?e:ri(e,t,r)}var bi=rt||function(e){return dt.clearTimeout(e)};function Ei(e,t){if(t)return e.slice();var n=e.length,r=Je?Je(n):new e.constructor(n);return e.copy(r),r}function Pi(e){var t=new e.constructor(e.byteLength);return new ze(t).set(new ze(e)),t}function Si(e,t){var n=t?Pi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ci(e,t){if(e!==t){var r=e!==n,i=null===e,s=e===e,o=ua(e),a=t!==n,c=null===t,u=t===t,l=ua(t);if(!c&&!l&&!o&&e>t||o&&a&&u&&!c&&!l||i&&a&&u||!r&&u||!s)return 1;if(!i&&!o&&!l&&e<t||l&&r&&s&&!i&&!o||c&&r&&s||!a&&s||!u)return-1}return 0}function Ri(e,t,n,r){for(var i=-1,s=e.length,o=n.length,a=-1,c=t.length,u=yn(s-o,0),l=B(c+u),h=!r;++a<c;)l[a]=t[a];for(;++i<o;)(h||i<s)&&(l[n[i]]=e[i]);for(;u--;)l[a++]=e[i++];return l}function Oi(e,t,n,r){for(var i=-1,s=e.length,o=-1,a=n.length,c=-1,u=t.length,l=yn(s-a,0),h=B(l+u),p=!r;++i<l;)h[i]=e[i];for(var f=i;++c<u;)h[f+c]=t[c];for(;++o<a;)(p||i<s)&&(h[f+n[o]]=e[i++]);return h}function qi(e,t){var n=-1,r=e.length;for(t||(t=B(r));++n<r;)t[n]=e[n];return t}function Ni(e,t,r,i){var s=!r;r||(r={});for(var o=-1,a=t.length;++o<a;){var c=t[o],u=i?i(r[c],e[c],c,r,e):n;u===n&&(u=e[c]),s?sr(r,c,u):tr(r,c,u)}return r}function Ai(e,t){return function(n,r){var i=Jo(n)?Rt:rr,s=t?t():{};return i(n,e,cs(r,2),s)}}function ji(e){return Gr((function(t,r){var i=-1,s=r.length,o=s>1?r[s-1]:n,a=s>2?r[2]:n;for(o=e.length>3&&"function"==typeof o?(s--,o):n,a&&ws(r[0],r[1],a)&&(o=s<3?n:o,s=1),t=Ce(t);++i<s;){var c=r[i];c&&e(t,c,i,o)}return t}))}function xi(e,t){return function(n,r){if(null==n)return n;if(!Ko(n))return e(n,r);for(var i=n.length,s=t?i:-1,o=Ce(n);(t?s--:++s<i)&&!1!==r(o[s],s,o););return n}}function Di(e){return function(t,n,r){for(var i=-1,s=Ce(t),o=r(t),a=o.length;a--;){var c=o[e?a:++i];if(!1===n(s[c],c,s))break}return t}}function $i(e){return function(t){var r=cn(t=wa(t))?dn(t):n,i=r?r[0]:t.charAt(0),s=r?Ii(r,1).join(""):t.slice(1);return i[e]()+s}}function Mi(e){return function(t){return Mt(Ya(za(t).replace(Xe,"")),e,"")}}function Li(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Vn(e.prototype),r=e.apply(n,t);return ta(r)?r:n}}function Ti(e){return function(t,r,i){var s=Ce(t);if(!Ko(t)){var o=cs(r,3);t=ja(t),r=function(e){return o(s[e],e,s)}}var a=e(t,r,i);return a>-1?s[o?t[a]:a]:n}}function ki(e){return ns((function(t){var i=t.length,s=i,o=Hn.prototype.thru;for(e&&t.reverse();s--;){var a=t[s];if("function"!=typeof a)throw new qe(r);if(o&&!c&&"wrapper"==os(a))var c=new Hn([],!0)}for(s=c?s:i;++s<i;){var u=os(a=t[s]),l="wrapper"==u?ss(a):n;c=l&&Is(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?c[os(l[0])].apply(c,l[3]):1==a.length&&Is(a)?c[u]():c.thru(a)}return function(){var e=arguments,n=e[0];if(c&&1==e.length&&Jo(n))return c.plant(n).value();for(var r=0,s=i?t[r].apply(this,e):n;++r<i;)s=t[r].call(this,s);return s}}))}function Ui(e,t,r,i,s,o,a,c,l,h){var p=t&u,f=1&t,d=2&t,g=24&t,v=512&t,m=d?n:Li(e);return function n(){for(var u=arguments.length,y=B(u),w=u;w--;)y[w]=arguments[w];if(g)var _=as(n),I=rn(y,_);if(i&&(y=Ri(y,i,s,g)),o&&(y=Oi(y,o,a,g)),u-=I,g&&u<h){var b=hn(y,_);return Ki(e,t,Ui,n.placeholder,r,y,b,c,l,h-u)}var E=f?r:this,P=d?E[e]:e;return u=y.length,c?y=Os(y,c):v&&u>1&&y.reverse(),p&&l<u&&(y.length=l),this&&this!==dt&&this instanceof n&&(P=m||Li(P)),P.apply(E,y)}}function Vi(e,t){return function(n,r){return function(e,t,n,r){return _r(e,(function(e,i,s){t(r,n(e),i,s)})),r}(n,e,t(r),{})}}function Wi(e,t){return function(r,i){var s;if(r===n&&i===n)return t;if(r!==n&&(s=r),i!==n){if(s===n)return i;"string"==typeof r||"string"==typeof i?(r=ui(r),i=ui(i)):(r=ci(r),i=ci(i)),s=e(r,i)}return s}}function Hi(e){return ns((function(t){return t=Dt(t,Yt(cs())),Gr((function(n){var r=this;return e(t,(function(e){return Ct(e,r,n)}))}))}))}function zi(e,t){var r=(t=t===n?" ":ui(t)).length;if(r<2)return r?Fr(t,e):t;var i=Fr(t,ft(e/fn(t)));return cn(t)?Ii(dn(i),0,e).join(""):i.slice(0,e)}function Ji(e){return function(t,r,i){return i&&"number"!=typeof i&&ws(t,r,i)&&(r=i=n),t=da(t),r===n?(r=t,t=0):r=da(r),function(e,t,n,r){for(var i=-1,s=yn(ft((t-e)/(n||1)),0),o=B(s);s--;)o[r?s:++i]=e,e+=n;return o}(t,r,i=i===n?t<r?1:-1:da(i),e)}}function Zi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ma(t),n=ma(n)),e(t,n)}}function Ki(e,t,r,i,s,o,u,l,h,p){var f=8&t;t|=f?a:c,4&(t&=~(f?c:a))||(t&=-4);var d=[e,t,s,f?o:n,f?u:n,f?n:o,f?n:u,l,h,p],g=r.apply(n,d);return Is(e)&&Ns(g,d),g.placeholder=i,xs(g,e,t)}function Bi(e){var t=Se[e];return function(e,n){if(e=ma(e),(n=null==n?0:wn(ga(n),292))&&wt(e)){var r=(wa(e)+"e").split("e");return+((r=(wa(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Fi=Rn&&1/pn(new Rn([,-0]))[1]==h?function(e){return new Rn(e)}:uc;function Gi(e){return function(t){var n=ds(t);return n==E?un(t):n==O?function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}(t):function(e,t){return Dt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Qi(e,t,i,h,p,f,d,g){var v=2&t;if(!v&&"function"!=typeof e)throw new qe(r);var m=h?h.length:0;if(m||(t&=-97,h=p=n),d=d===n?d:yn(ga(d),0),g=g===n?g:ga(g),m-=p?p.length:0,t&c){var y=h,w=p;h=p=n}var _=v?n:ss(e),I=[e,t,i,h,p,y,w,f,d,g];if(_&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,a=r==u&&8==n||r==u&&n==l&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!a)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var c=t[3];if(c){var h=e[3];e[3]=h?Ri(h,c,t[4]):c,e[4]=h?hn(e[3],s):t[4]}(c=t[5])&&(h=e[5],e[5]=h?Oi(h,c,t[6]):c,e[6]=h?hn(e[5],s):t[6]),(c=t[7])&&(e[7]=c),r&u&&(e[8]=null==e[8]?t[8]:wn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(I,_),e=I[0],t=I[1],i=I[2],h=I[3],p=I[4],!(g=I[9]=I[9]===n?v?0:e.length:yn(I[9]-m,0))&&24&t&&(t&=-25),t&&1!=t)b=8==t||t==o?function(e,t,r){var i=Li(e);return function s(){for(var o=arguments.length,a=B(o),c=o,u=as(s);c--;)a[c]=arguments[c];var l=o<3&&a[0]!==u&&a[o-1]!==u?[]:hn(a,u);return(o-=l.length)<r?Ki(e,t,Ui,s.placeholder,n,a,l,n,n,r-o):Ct(this&&this!==dt&&this instanceof s?i:e,this,a)}}(e,t,g):t!=a&&33!=t||p.length?Ui.apply(n,I):function(e,t,n,r){var i=1&t,s=Li(e);return function t(){for(var o=-1,a=arguments.length,c=-1,u=r.length,l=B(u+a),h=this&&this!==dt&&this instanceof t?s:e;++c<u;)l[c]=r[c];for(;a--;)l[c++]=arguments[++o];return Ct(h,i?n:this,l)}}(e,t,i,h);else var b=function(e,t,n){var r=1&t,i=Li(e);return function t(){return(this&&this!==dt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,i);return xs((_?ei:Ns)(b,I),e,t)}function Yi(e,t,r,i){return e===n||Vo(e,je[r])&&!$e.call(i,r)?t:e}function Xi(e,t,r,i,s,o){return ta(e)&&ta(t)&&(o.set(t,e),Wr(e,t,n,Xi,o),o.delete(t)),e}function es(e){return sa(e)?n:e}function ts(e,t,r,i,s,o){var a=1&r,c=e.length,u=t.length;if(c!=u&&!(a&&u>c))return!1;var l=o.get(e),h=o.get(t);if(l&&h)return l==t&&h==e;var p=-1,f=!0,d=2&r?new Bn:n;for(o.set(e,t),o.set(t,e);++p<c;){var g=e[p],v=t[p];if(i)var m=a?i(v,g,p,t,e,o):i(g,v,p,e,t,o);if(m!==n){if(m)continue;f=!1;break}if(d){if(!Tt(t,(function(e,t){if(!en(d,t)&&(g===e||s(g,e,r,i,o)))return d.push(t)}))){f=!1;break}}else if(g!==v&&!s(g,v,r,i,o)){f=!1;break}}return o.delete(e),o.delete(t),f}function ns(e){return js(Cs(e,n,Js),e+"")}function rs(e){return Pr(e,ja,ps)}function is(e){return Pr(e,xa,fs)}var ss=Nn?function(e){return Nn.get(e)}:uc;function os(e){for(var t=e.name+"",n=An[t],r=$e.call(An,t)?n.length:0;r--;){var i=n[r],s=i.func;if(null==s||s==e)return i.name}return t}function as(e){return($e.call(Un,"placeholder")?Un:e).placeholder}function cs(){var e=Un.iteratee||sc;return e=e===sc?$r:e,arguments.length?e(arguments[0],arguments[1]):e}function us(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function ls(e){for(var t=ja(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Ps(i)]}return t}function hs(e,t){var r=function(e,t){return null==e?n:e[t]}(e,t);return Dr(r)?r:n}var ps=vt?function(e){return null==e?[]:(e=Ce(e),At(vt(e),(function(t){return Be.call(e,t)})))}:vc,fs=vt?function(e){for(var t=[];e;)$t(t,ps(e)),e=Ze(e);return t}:vc,ds=Sr;function gs(e,t,n){for(var r=-1,i=(t=wi(t,e)).length,s=!1;++r<i;){var o=Ls(t[r]);if(!(s=null!=e&&n(e,o)))break;e=e[o]}return s||++r!=i?s:!!(i=null==e?0:e.length)&&ea(i)&&ys(o,i)&&(Jo(e)||zo(e))}function vs(e){return"function"!=typeof e.constructor||Es(e)?{}:Vn(Ze(e))}function ms(e){return Jo(e)||zo(e)||!!(Ge&&e&&e[Ge])}function ys(e,t){var n=typeof e;return!!(t=t??p)&&("number"==n||"symbol"!=n&&we.test(e))&&e>-1&&e%1==0&&e<t}function ws(e,t,n){if(!ta(n))return!1;var r=typeof t;return!!("number"==r?Ko(n)&&ys(t,n.length):"string"==r&&t in n)&&Vo(n[t],e)}function _s(e,t){if(Jo(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ua(e))||(te.test(e)||!ee.test(e)||null!=t&&e in Ce(t))}function Is(e){var t=os(e),n=Un[t];if("function"!=typeof n||!(t in zn.prototype))return!1;if(e===n)return!0;var r=ss(n);return!!r&&e===r[0]}(Pn&&ds(new Pn(new ArrayBuffer(1)))!=x||Sn&&ds(new Sn)!=E||Cn&&ds(Cn.resolve())!=C||Rn&&ds(new Rn)!=O||On&&ds(new On)!=A)&&(ds=function(e){var t=Sr(e),r=t==S?e.constructor:n,i=r?Ts(r):"";if(i)switch(i){case jn:return x;case xn:return E;case Dn:return C;case $n:return O;case Mn:return A}return t});var bs=xe?Yo:mc;function Es(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||je)}function Ps(e){return e===e&&!ta(e)}function Ss(e,t){return function(r){return null!=r&&(r[e]===t&&(t!==n||e in Ce(r)))}}function Cs(e,t,r){return t=yn(t===n?e.length-1:t,0),function(){for(var n=arguments,i=-1,s=yn(n.length-t,0),o=B(s);++i<s;)o[i]=n[t+i];i=-1;for(var a=B(t+1);++i<t;)a[i]=n[i];return a[t]=r(o),Ct(e,this,a)}}function Rs(e,t){return t.length<2?e:Er(e,ri(t,0,-1))}function Os(e,t){for(var r=e.length,i=wn(t.length,r),s=qi(e);i--;){var o=t[i];e[i]=ys(o,r)?s[o]:n}return e}function qs(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Ns=Ds(ei),As=pt||function(e,t){return dt.setTimeout(e,t)},js=Ds(ti);function xs(e,t,n){var r=t+"";return js(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ae,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Ot(g,(function(n){var r="_."+n[0];t&n[1]&&!jt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ce);return t?t[1].split(ue):[]}(r),n)))}function Ds(e){var t=0,r=0;return function(){var i=_n(),s=16-(i-r);if(r=i,s>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(n,arguments)}}function $s(e,t){var r=-1,i=e.length,s=i-1;for(t=t===n?i:t;++r<t;){var o=Br(r,s),a=e[o];e[o]=e[r],e[r]=a}return e.length=t,e}var Ms=function(e){var t=$o(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ne,(function(e,n,r,i){t.push(r?i.replace(pe,"$1"):n||e)})),t}));function Ls(e){if("string"==typeof e||ua(e))return e;var t=e+"";return"0"==t&&1/e==-h?"-0":t}function Ts(e){if(null!=e){try{return De.call(e)}catch{}try{return e+""}catch{}}return""}function ks(e){if(e instanceof zn)return e.clone();var t=new Hn(e.__wrapped__,e.__chain__);return t.__actions__=qi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Us=Gr((function(e,t){return Bo(e)?hr(e,mr(t,1,Bo,!0)):[]})),Vs=Gr((function(e,t){var r=Gs(t);return Bo(r)&&(r=n),Bo(e)?hr(e,mr(t,1,Bo,!0),cs(r,2)):[]})),Ws=Gr((function(e,t){var r=Gs(t);return Bo(r)&&(r=n),Bo(e)?hr(e,mr(t,1,Bo,!0),n,r):[]}));function Hs(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ga(n);return i<0&&(i=yn(r+i,0)),Vt(e,cs(t,3),i)}function zs(e,t,r){var i=null==e?0:e.length;if(!i)return-1;var s=i-1;return r!==n&&(s=ga(r),s=r<0?yn(i+s,0):wn(s,i-1)),Vt(e,cs(t,3),s,!0)}function Js(e){return(null==e?0:e.length)?mr(e,1):[]}function Zs(e){return e&&e.length?e[0]:n}var Ks=Gr((function(e){var t=Dt(e,mi);return t.length&&t[0]===e[0]?qr(t):[]})),Bs=Gr((function(e){var t=Gs(e),r=Dt(e,mi);return t===Gs(r)?t=n:r.pop(),r.length&&r[0]===e[0]?qr(r,cs(t,2)):[]})),Fs=Gr((function(e){var t=Gs(e),r=Dt(e,mi);return(t="function"==typeof t?t:n)&&r.pop(),r.length&&r[0]===e[0]?qr(r,n,t):[]}));function Gs(e){var t=null==e?0:e.length;return t?e[t-1]:n}var Qs=Gr(Ys);function Ys(e,t){return e&&e.length&&t&&t.length?Zr(e,t):e}var Xs=ns((function(e,t){var n=null==e?0:e.length,r=or(e,t);return Kr(e,Dt(t,(function(e){return ys(e,n)?+e:e})).sort(Ci)),r}));function eo(e){return null==e?e:En.call(e)}var to=Gr((function(e){return li(mr(e,1,Bo,!0))})),no=Gr((function(e){var t=Gs(e);return Bo(t)&&(t=n),li(mr(e,1,Bo,!0),cs(t,2))})),ro=Gr((function(e){var t=Gs(e);return t="function"==typeof t?t:n,li(mr(e,1,Bo,!0),n,t)}));function io(e){if(!e||!e.length)return[];var t=0;return e=At(e,(function(e){if(Bo(e))return t=yn(e.length,t),!0})),Gt(t,(function(t){return Dt(e,Zt(t))}))}function so(e,t){if(!e||!e.length)return[];var r=io(e);return null==t?r:Dt(r,(function(e){return Ct(t,n,e)}))}var oo=Gr((function(e,t){return Bo(e)?hr(e,t):[]})),ao=Gr((function(e){return gi(At(e,Bo))})),co=Gr((function(e){var t=Gs(e);return Bo(t)&&(t=n),gi(At(e,Bo),cs(t,2))})),uo=Gr((function(e){var t=Gs(e);return t="function"==typeof t?t:n,gi(At(e,Bo),n,t)})),lo=Gr(io);var ho=Gr((function(e){var t=e.length,r=t>1?e[t-1]:n;return r="function"==typeof r?(e.pop(),r):n,so(e,r)}));function po(e){var t=Un(e);return t.__chain__=!0,t}function fo(e,t){return t(e)}var go=ns((function(e){var t=e.length,r=t?e[0]:0,i=this.__wrapped__,s=function(t){return or(t,e)};return!(t>1||this.__actions__.length)&&i instanceof zn&&ys(r)?((i=i.slice(r,+r+(t?1:0))).__actions__.push({func:fo,args:[s],thisArg:n}),new Hn(i,this.__chain__).thru((function(e){return t&&!e.length&&e.push(n),e}))):this.thru(s)}));var vo=Ai((function(e,t,n){$e.call(e,n)?++e[n]:sr(e,n,1)}));var mo=Ti(Hs),yo=Ti(zs);function wo(e,t){return(Jo(e)?Ot:pr)(e,cs(t,3))}function _o(e,t){return(Jo(e)?qt:fr)(e,cs(t,3))}var Io=Ai((function(e,t,n){$e.call(e,n)?e[n].push(t):sr(e,n,[t])}));var bo=Gr((function(e,t,n){var r=-1,i="function"==typeof t,s=Ko(e)?B(e.length):[];return pr(e,(function(e){s[++r]=i?Ct(t,e,n):Nr(e,t,n)})),s})),Eo=Ai((function(e,t,n){sr(e,n,t)}));function Po(e,t){return(Jo(e)?Dt:kr)(e,cs(t,3))}var So=Ai((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Co=Gr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&ws(e,t[0],t[1])?t=[]:n>2&&ws(t[0],t[1],t[2])&&(t=[t[0]]),zr(e,mr(t,1),[])})),Ro=ut||function(){return dt.Date.now()};function Oo(e,t,r){return t=r?n:t,t=e&&null==t?e.length:t,Qi(e,u,n,n,n,n,t)}function qo(e,t){var i;if("function"!=typeof t)throw new qe(r);return e=ga(e),function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=n),i}}var No=Gr((function(e,t,n){var r=1;if(n.length){var i=hn(n,as(No));r|=a}return Qi(e,r,t,n,i)})),Ao=Gr((function(e,t,n){var r=3;if(n.length){var i=hn(n,as(Ao));r|=a}return Qi(t,r,e,n,i)}));function jo(e,t,i){var s,o,a,c,u,l,h=0,p=!1,f=!1,d=!0;if("function"!=typeof e)throw new qe(r);function g(t){var r=s,i=o;return s=o=n,h=t,c=e.apply(i,r)}function v(e){return h=e,u=As(y,t),p?g(e):c}function m(e){var r=e-l;return l===n||r>=t||r<0||f&&e-h>=a}function y(){var e=Ro();if(m(e))return w(e);u=As(y,function(e){var n=t-(e-l);return f?wn(n,a-(e-h)):n}(e))}function w(e){return u=n,d&&s?g(e):(s=o=n,c)}function _(){var e=Ro(),r=m(e);if(s=arguments,o=this,l=e,r){if(u===n)return v(l);if(f)return bi(u),u=As(y,t),g(l)}return u===n&&(u=As(y,t)),c}return t=ma(t)||0,ta(i)&&(p=!!i.leading,a=(f="maxWait"in i)?yn(ma(i.maxWait)||0,t):a,d="trailing"in i?!!i.trailing:d),_.cancel=function(){u!==n&&bi(u),h=0,s=l=o=u=n},_.flush=function(){return u===n?c:w(Ro())},_}var xo=Gr((function(e,t){return lr(e,1,t)})),Do=Gr((function(e,t,n){return lr(e,ma(t)||0,n)}));function $o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new qe(r);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=e.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new($o.Cache||Kn),n}function Mo(e){if("function"!=typeof e)throw new qe(r);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}$o.Cache=Kn;var Lo=_i((function(e,t){var n=(t=1==t.length&&Jo(t[0])?Dt(t[0],Yt(cs())):Dt(mr(t,1),Yt(cs()))).length;return Gr((function(r){for(var i=-1,s=wn(r.length,n);++i<s;)r[i]=t[i].call(this,r[i]);return Ct(e,this,r)}))})),To=Gr((function(e,t){var r=hn(t,as(To));return Qi(e,a,n,t,r)})),ko=Gr((function(e,t){var r=hn(t,as(ko));return Qi(e,c,n,t,r)})),Uo=ns((function(e,t){return Qi(e,l,n,n,n,t)}));function Vo(e,t){return e===t||e!==e&&t!==t}var Wo=Zi(Cr),Ho=Zi((function(e,t){return e>=t})),zo=Ar(function(){return arguments}())?Ar:function(e){return na(e)&&$e.call(e,"callee")&&!Be.call(e,"callee")},Jo=B.isArray,Zo=_t?Yt(_t):function(e){return na(e)&&Sr(e)==j};function Ko(e){return null!=e&&ea(e.length)&&!Yo(e)}function Bo(e){return na(e)&&Ko(e)}var Fo=yt||mc,Go=It?Yt(It):function(e){return na(e)&&Sr(e)==w};function Qo(e){if(!na(e))return!1;var t=Sr(e);return t==_||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!sa(e)}function Yo(e){if(!ta(e))return!1;var t=Sr(e);return t==I||t==b||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Xo(e){return"number"==typeof e&&e==ga(e)}function ea(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function ta(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function na(e){return null!=e&&"object"==typeof e}var ra=bt?Yt(bt):function(e){return na(e)&&ds(e)==E};function ia(e){return"number"==typeof e||na(e)&&Sr(e)==P}function sa(e){if(!na(e)||Sr(e)!=S)return!1;var t=Ze(e);if(null===t)return!0;var n=$e.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&De.call(n)==ke}var oa=Et?Yt(Et):function(e){return na(e)&&Sr(e)==R};var aa=Pt?Yt(Pt):function(e){return na(e)&&ds(e)==O};function ca(e){return"string"==typeof e||!Jo(e)&&na(e)&&Sr(e)==q}function ua(e){return"symbol"==typeof e||na(e)&&Sr(e)==N}var la=St?Yt(St):function(e){return na(e)&&ea(e.length)&&!!at[Sr(e)]};var ha=Zi(Tr),pa=Zi((function(e,t){return e<=t}));function fa(e){if(!e)return[];if(Ko(e))return ca(e)?dn(e):qi(e);if(Qe&&e[Qe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Qe]());var t=ds(e);return(t==E?un:t==O?pn:Va)(e)}function da(e){return e?(e=ma(e))===h||e===-h?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function ga(e){var t=da(e),n=t%1;return t===t?n?t-n:t:0}function va(e){return e?ar(ga(e),0,d):0}function ma(e){if("number"==typeof e)return e;if(ua(e))return f;if(ta(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ta(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Qt(e);var n=ve.test(e);return n||ye.test(e)?ht(e.slice(2),n?2:8):ge.test(e)?f:+e}function ya(e){return Ni(e,xa(e))}function wa(e){return null==e?"":ui(e)}var _a=ji((function(e,t){if(Es(t)||Ko(t))Ni(t,ja(t),e);else for(var n in t)$e.call(t,n)&&tr(e,n,t[n])})),Ia=ji((function(e,t){Ni(t,xa(t),e)})),ba=ji((function(e,t,n,r){Ni(t,xa(t),e,r)})),Ea=ji((function(e,t,n,r){Ni(t,ja(t),e,r)})),Pa=ns(or);var Sa=Gr((function(e,t){e=Ce(e);var r=-1,i=t.length,s=i>2?t[2]:n;for(s&&ws(t[0],t[1],s)&&(i=1);++r<i;)for(var o=t[r],a=xa(o),c=-1,u=a.length;++c<u;){var l=a[c],h=e[l];(h===n||Vo(h,je[l])&&!$e.call(e,l))&&(e[l]=o[l])}return e})),Ca=Gr((function(e){return e.push(n,Xi),Ct($a,n,e)}));function Ra(e,t,r){var i=null==e?n:Er(e,t);return i===n?r:i}function Oa(e,t){return null!=e&&gs(e,t,Or)}var qa=Vi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Te.call(t)),e[t]=n}),tc(ic)),Na=Vi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Te.call(t)),$e.call(e,t)?e[t].push(n):e[t]=[n]}),cs),Aa=Gr(Nr);function ja(e){return Ko(e)?Gn(e):Mr(e)}function xa(e){return Ko(e)?Gn(e,!0):Lr(e)}var Da=ji((function(e,t,n){Wr(e,t,n)})),$a=ji((function(e,t,n,r){Wr(e,t,n,r)})),Ma=ns((function(e,t){var n={};if(null==e)return n;var r=!1;t=Dt(t,(function(t){return t=wi(t,e),r||(r=t.length>1),t})),Ni(e,is(e),n),r&&(n=cr(n,7,es));for(var i=t.length;i--;)hi(n,t[i]);return n}));var La=ns((function(e,t){return null==e?{}:function(e,t){return Jr(e,t,(function(t,n){return Oa(e,n)}))}(e,t)}));function Ta(e,t){if(null==e)return{};var n=Dt(is(e),(function(e){return[e]}));return t=cs(t),Jr(e,n,(function(e,n){return t(e,n[0])}))}var ka=Gi(ja),Ua=Gi(xa);function Va(e){return null==e?[]:Xt(e,ja(e))}var Wa=Mi((function(e,t,n){return t=t.toLowerCase(),e+(n?Ha(t):t)}));function Ha(e){return Qa(wa(e).toLowerCase())}function za(e){return(e=wa(e))&&e.replace(_e,sn).replace(et,"")}var Ja=Mi((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Za=Mi((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ka=$i("toLowerCase");var Ba=Mi((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Fa=Mi((function(e,t,n){return e+(n?" ":"")+Qa(t)}));var Ga=Mi((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Qa=$i("toUpperCase");function Ya(e,t,r){return e=wa(e),(t=r?n:t)===n?function(e){return it.test(e)}(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.match(le)||[]}(e):e.match(t)||[]}var Xa=Gr((function(e,t){try{return Ct(e,n,t)}catch(r){return Qo(r)?r:new Ee(r)}})),ec=ns((function(e,t){return Ot(t,(function(t){t=Ls(t),sr(e,t,No(e[t],e))})),e}));function tc(e){return function(){return e}}var nc=ki(),rc=ki(!0);function ic(e){return e}function sc(e){return $r("function"==typeof e?e:cr(e,1))}var oc=Gr((function(e,t){return function(n){return Nr(n,e,t)}})),ac=Gr((function(e,t){return function(n){return Nr(e,n,t)}}));function cc(e,t,n){var r=ja(t),i=br(t,r);null==n&&(!ta(t)||!i.length&&r.length)&&(n=t,t=e,e=this,i=br(t,ja(t)));var s=!(ta(n)&&"chain"in n)||!!n.chain,o=Yo(e);return Ot(i,(function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(s||t){var n=e(this.__wrapped__),i=n.__actions__=qi(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,$t([this.value()],arguments))})})),e}function uc(){}var lc=Hi(Dt),hc=Hi(Nt),pc=Hi(Tt);function fc(e){return _s(e)?Zt(Ls(e)):function(e){return function(t){return Er(t,e)}}(e)}var dc=Ji(),gc=Ji(!0);function vc(){return[]}function mc(){return!1}var yc=Wi((function(e,t){return e+t}),0),wc=Bi("ceil"),_c=Wi((function(e,t){return e/t}),1),Ic=Bi("floor");var bc=Wi((function(e,t){return e*t}),1),Ec=Bi("round"),Pc=Wi((function(e,t){return e-t}),0);return Un.after=function(e,t){if("function"!=typeof t)throw new qe(r);return e=ga(e),function(){if(--e<1)return t.apply(this,arguments)}},Un.ary=Oo,Un.assign=_a,Un.assignIn=Ia,Un.assignInWith=ba,Un.assignWith=Ea,Un.at=Pa,Un.before=qo,Un.bind=No,Un.bindAll=ec,Un.bindKey=Ao,Un.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Jo(e)?e:[e]},Un.chain=po,Un.chunk=function(e,t,r){t=(r?ws(e,t,r):t===n)?1:yn(ga(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var s=0,o=0,a=B(ft(i/t));s<i;)a[o++]=ri(e,s,s+=t);return a},Un.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var s=e[t];s&&(i[r++]=s)}return i},Un.concat=function(){var e=arguments.length;if(!e)return[];for(var t=B(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return $t(Jo(n)?qi(n):[n],mr(t,1))},Un.cond=function(e){var t=null==e?0:e.length,n=cs();return e=t?Dt(e,(function(e){if("function"!=typeof e[1])throw new qe(r);return[n(e[0]),e[1]]})):[],Gr((function(n){for(var r=-1;++r<t;){var i=e[r];if(Ct(i[0],this,n))return Ct(i[1],this,n)}}))},Un.conforms=function(e){return function(e){var t=ja(e);return function(n){return ur(n,e,t)}}(cr(e,1))},Un.constant=tc,Un.countBy=vo,Un.create=function(e,t){var n=Vn(e);return null==t?n:ir(n,t)},Un.curry=function e(t,r,i){var s=Qi(t,8,n,n,n,n,n,r=i?n:r);return s.placeholder=e.placeholder,s},Un.curryRight=function e(t,r,i){var s=Qi(t,o,n,n,n,n,n,r=i?n:r);return s.placeholder=e.placeholder,s},Un.debounce=jo,Un.defaults=Sa,Un.defaultsDeep=Ca,Un.defer=xo,Un.delay=Do,Un.difference=Us,Un.differenceBy=Vs,Un.differenceWith=Ws,Un.drop=function(e,t,r){var i=null==e?0:e.length;return i?ri(e,(t=r||t===n?1:ga(t))<0?0:t,i):[]},Un.dropRight=function(e,t,r){var i=null==e?0:e.length;return i?ri(e,0,(t=i-(t=r||t===n?1:ga(t)))<0?0:t):[]},Un.dropRightWhile=function(e,t){return e&&e.length?fi(e,cs(t,3),!0,!0):[]},Un.dropWhile=function(e,t){return e&&e.length?fi(e,cs(t,3),!0):[]},Un.fill=function(e,t,r,i){var s=null==e?0:e.length;return s?(r&&"number"!=typeof r&&ws(e,t,r)&&(r=0,i=s),function(e,t,r,i){var s=e.length;for((r=ga(r))<0&&(r=-r>s?0:s+r),(i=i===n||i>s?s:ga(i))<0&&(i+=s),i=r>i?0:va(i);r<i;)e[r++]=t;return e}(e,t,r,i)):[]},Un.filter=function(e,t){return(Jo(e)?At:vr)(e,cs(t,3))},Un.flatMap=function(e,t){return mr(Po(e,t),1)},Un.flatMapDeep=function(e,t){return mr(Po(e,t),h)},Un.flatMapDepth=function(e,t,r){return r=r===n?1:ga(r),mr(Po(e,t),r)},Un.flatten=Js,Un.flattenDeep=function(e){return(null==e?0:e.length)?mr(e,h):[]},Un.flattenDepth=function(e,t){return(null==e?0:e.length)?mr(e,t=t===n?1:ga(t)):[]},Un.flip=function(e){return Qi(e,512)},Un.flow=nc,Un.flowRight=rc,Un.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Un.functions=function(e){return null==e?[]:br(e,ja(e))},Un.functionsIn=function(e){return null==e?[]:br(e,xa(e))},Un.groupBy=Io,Un.initial=function(e){return(null==e?0:e.length)?ri(e,0,-1):[]},Un.intersection=Ks,Un.intersectionBy=Bs,Un.intersectionWith=Fs,Un.invert=qa,Un.invertBy=Na,Un.invokeMap=bo,Un.iteratee=sc,Un.keyBy=Eo,Un.keys=ja,Un.keysIn=xa,Un.map=Po,Un.mapKeys=function(e,t){var n={};return t=cs(t,3),_r(e,(function(e,r,i){sr(n,t(e,r,i),e)})),n},Un.mapValues=function(e,t){var n={};return t=cs(t,3),_r(e,(function(e,r,i){sr(n,r,t(e,r,i))})),n},Un.matches=function(e){return Ur(cr(e,1))},Un.matchesProperty=function(e,t){return Vr(e,cr(t,1))},Un.memoize=$o,Un.merge=Da,Un.mergeWith=$a,Un.method=oc,Un.methodOf=ac,Un.mixin=cc,Un.negate=Mo,Un.nthArg=function(e){return e=ga(e),Gr((function(t){return Hr(t,e)}))},Un.omit=Ma,Un.omitBy=function(e,t){return Ta(e,Mo(cs(t)))},Un.once=function(e){return qo(2,e)},Un.orderBy=function(e,t,r,i){return null==e?[]:(Jo(t)||(t=null==t?[]:[t]),Jo(r=i?n:r)||(r=null==r?[]:[r]),zr(e,t,r))},Un.over=lc,Un.overArgs=Lo,Un.overEvery=hc,Un.overSome=pc,Un.partial=To,Un.partialRight=ko,Un.partition=So,Un.pick=La,Un.pickBy=Ta,Un.property=fc,Un.propertyOf=function(e){return function(t){return null==e?n:Er(e,t)}},Un.pull=Qs,Un.pullAll=Ys,Un.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Zr(e,t,cs(n,2)):e},Un.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?Zr(e,t,n,r):e},Un.pullAt=Xs,Un.range=dc,Un.rangeRight=gc,Un.rearg=Uo,Un.reject=function(e,t){return(Jo(e)?At:vr)(e,Mo(cs(t,3)))},Un.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],s=e.length;for(t=cs(t,3);++r<s;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return Kr(e,i),n},Un.rest=function(e,t){if("function"!=typeof e)throw new qe(r);return Gr(e,t=t===n?t:ga(t))},Un.reverse=eo,Un.sampleSize=function(e,t,r){return t=(r?ws(e,t,r):t===n)?1:ga(t),(Jo(e)?Yn:Yr)(e,t)},Un.set=function(e,t,n){return null==e?e:Xr(e,t,n)},Un.setWith=function(e,t,r,i){return i="function"==typeof i?i:n,null==e?e:Xr(e,t,r,i)},Un.shuffle=function(e){return(Jo(e)?Xn:ni)(e)},Un.slice=function(e,t,r){var i=null==e?0:e.length;return i?(r&&"number"!=typeof r&&ws(e,t,r)?(t=0,r=i):(t=null==t?0:ga(t),r=r===n?i:ga(r)),ri(e,t,r)):[]},Un.sortBy=Co,Un.sortedUniq=function(e){return e&&e.length?ai(e):[]},Un.sortedUniqBy=function(e,t){return e&&e.length?ai(e,cs(t,2)):[]},Un.split=function(e,t,r){return r&&"number"!=typeof r&&ws(e,t,r)&&(t=r=n),(r=r===n?d:r>>>0)?(e=wa(e))&&("string"==typeof t||null!=t&&!oa(t))&&(!(t=ui(t))&&cn(e))?Ii(dn(e),0,r):e.split(t,r):[]},Un.spread=function(e,t){if("function"!=typeof e)throw new qe(r);return t=null==t?0:yn(ga(t),0),Gr((function(n){var r=n[t],i=Ii(n,0,t);return r&&$t(i,r),Ct(e,this,i)}))},Un.tail=function(e){var t=null==e?0:e.length;return t?ri(e,1,t):[]},Un.take=function(e,t,r){return e&&e.length?ri(e,0,(t=r||t===n?1:ga(t))<0?0:t):[]},Un.takeRight=function(e,t,r){var i=null==e?0:e.length;return i?ri(e,(t=i-(t=r||t===n?1:ga(t)))<0?0:t,i):[]},Un.takeRightWhile=function(e,t){return e&&e.length?fi(e,cs(t,3),!1,!0):[]},Un.takeWhile=function(e,t){return e&&e.length?fi(e,cs(t,3)):[]},Un.tap=function(e,t){return t(e),e},Un.throttle=function(e,t,n){var i=!0,s=!0;if("function"!=typeof e)throw new qe(r);return ta(n)&&(i="leading"in n?!!n.leading:i,s="trailing"in n?!!n.trailing:s),jo(e,t,{leading:i,maxWait:t,trailing:s})},Un.thru=fo,Un.toArray=fa,Un.toPairs=ka,Un.toPairsIn=Ua,Un.toPath=function(e){return Jo(e)?Dt(e,Ls):ua(e)?[e]:qi(Ms(wa(e)))},Un.toPlainObject=ya,Un.transform=function(e,t,n){var r=Jo(e),i=r||Fo(e)||la(e);if(t=cs(t,4),null==n){var s=e&&e.constructor;n=i?r?new s:[]:ta(e)&&Yo(s)?Vn(Ze(e)):{}}return(i?Ot:_r)(e,(function(e,r,i){return t(n,e,r,i)})),n},Un.unary=function(e){return Oo(e,1)},Un.union=to,Un.unionBy=no,Un.unionWith=ro,Un.uniq=function(e){return e&&e.length?li(e):[]},Un.uniqBy=function(e,t){return e&&e.length?li(e,cs(t,2)):[]},Un.uniqWith=function(e,t){return t="function"==typeof t?t:n,e&&e.length?li(e,n,t):[]},Un.unset=function(e,t){return null==e||hi(e,t)},Un.unzip=io,Un.unzipWith=so,Un.update=function(e,t,n){return null==e?e:pi(e,t,yi(n))},Un.updateWith=function(e,t,r,i){return i="function"==typeof i?i:n,null==e?e:pi(e,t,yi(r),i)},Un.values=Va,Un.valuesIn=function(e){return null==e?[]:Xt(e,xa(e))},Un.without=oo,Un.words=Ya,Un.wrap=function(e,t){return To(yi(t),e)},Un.xor=ao,Un.xorBy=co,Un.xorWith=uo,Un.zip=lo,Un.zipObject=function(e,t){return vi(e||[],t||[],tr)},Un.zipObjectDeep=function(e,t){return vi(e||[],t||[],Xr)},Un.zipWith=ho,Un.entries=ka,Un.entriesIn=Ua,Un.extend=Ia,Un.extendWith=ba,cc(Un,Un),Un.add=yc,Un.attempt=Xa,Un.camelCase=Wa,Un.capitalize=Ha,Un.ceil=wc,Un.clamp=function(e,t,r){return r===n&&(r=t,t=n),r!==n&&(r=(r=ma(r))===r?r:0),t!==n&&(t=(t=ma(t))===t?t:0),ar(ma(e),t,r)},Un.clone=function(e){return cr(e,4)},Un.cloneDeep=function(e){return cr(e,5)},Un.cloneDeepWith=function(e,t){return cr(e,5,t="function"==typeof t?t:n)},Un.cloneWith=function(e,t){return cr(e,4,t="function"==typeof t?t:n)},Un.conformsTo=function(e,t){return null==t||ur(e,t,ja(t))},Un.deburr=za,Un.defaultTo=function(e,t){return null==e||e!==e?t:e},Un.divide=_c,Un.endsWith=function(e,t,r){e=wa(e),t=ui(t);var i=e.length,s=r=r===n?i:ar(ga(r),0,i);return(r-=t.length)>=0&&e.slice(r,s)==t},Un.eq=Vo,Un.escape=function(e){return(e=wa(e))&&G.test(e)?e.replace(K,on):e},Un.escapeRegExp=function(e){return(e=wa(e))&&ie.test(e)?e.replace(re,"\\$&"):e},Un.every=function(e,t,r){var i=Jo(e)?Nt:dr;return r&&ws(e,t,r)&&(t=n),i(e,cs(t,3))},Un.find=mo,Un.findIndex=Hs,Un.findKey=function(e,t){return Ut(e,cs(t,3),_r)},Un.findLast=yo,Un.findLastIndex=zs,Un.findLastKey=function(e,t){return Ut(e,cs(t,3),Ir)},Un.floor=Ic,Un.forEach=wo,Un.forEachRight=_o,Un.forIn=function(e,t){return null==e?e:yr(e,cs(t,3),xa)},Un.forInRight=function(e,t){return null==e?e:wr(e,cs(t,3),xa)},Un.forOwn=function(e,t){return e&&_r(e,cs(t,3))},Un.forOwnRight=function(e,t){return e&&Ir(e,cs(t,3))},Un.get=Ra,Un.gt=Wo,Un.gte=Ho,Un.has=function(e,t){return null!=e&&gs(e,t,Rr)},Un.hasIn=Oa,Un.head=Zs,Un.identity=ic,Un.includes=function(e,t,n,r){e=Ko(e)?e:Va(e),n=n&&!r?ga(n):0;var i=e.length;return n<0&&(n=yn(i+n,0)),ca(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Wt(e,t,n)>-1},Un.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ga(n);return i<0&&(i=yn(r+i,0)),Wt(e,t,i)},Un.inRange=function(e,t,r){return t=da(t),r===n?(r=t,t=0):r=da(r),function(e,t,n){return e>=wn(t,n)&&e<yn(t,n)}(e=ma(e),t,r)},Un.invoke=Aa,Un.isArguments=zo,Un.isArray=Jo,Un.isArrayBuffer=Zo,Un.isArrayLike=Ko,Un.isArrayLikeObject=Bo,Un.isBoolean=function(e){return!0===e||!1===e||na(e)&&Sr(e)==y},Un.isBuffer=Fo,Un.isDate=Go,Un.isElement=function(e){return na(e)&&1===e.nodeType&&!sa(e)},Un.isEmpty=function(e){if(null==e)return!0;if(Ko(e)&&(Jo(e)||"string"==typeof e||"function"==typeof e.splice||Fo(e)||la(e)||zo(e)))return!e.length;var t=ds(e);if(t==E||t==O)return!e.size;if(Es(e))return!Mr(e).length;for(var n in e)if($e.call(e,n))return!1;return!0},Un.isEqual=function(e,t){return jr(e,t)},Un.isEqualWith=function(e,t,r){var i=(r="function"==typeof r?r:n)?r(e,t):n;return i===n?jr(e,t,n,r):!!i},Un.isError=Qo,Un.isFinite=function(e){return"number"==typeof e&&wt(e)},Un.isFunction=Yo,Un.isInteger=Xo,Un.isLength=ea,Un.isMap=ra,Un.isMatch=function(e,t){return e===t||xr(e,t,ls(t))},Un.isMatchWith=function(e,t,r){return r="function"==typeof r?r:n,xr(e,t,ls(t),r)},Un.isNaN=function(e){return ia(e)&&e!=+e},Un.isNative=function(e){if(bs(e))throw new Ee("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Dr(e)},Un.isNil=function(e){return null==e},Un.isNull=function(e){return null===e},Un.isNumber=ia,Un.isObject=ta,Un.isObjectLike=na,Un.isPlainObject=sa,Un.isRegExp=oa,Un.isSafeInteger=function(e){return Xo(e)&&e>=-p&&e<=p},Un.isSet=aa,Un.isString=ca,Un.isSymbol=ua,Un.isTypedArray=la,Un.isUndefined=function(e){return e===n},Un.isWeakMap=function(e){return na(e)&&ds(e)==A},Un.isWeakSet=function(e){return na(e)&&"[object WeakSet]"==Sr(e)},Un.join=function(e,t){return null==e?"":kt.call(e,t)},Un.kebabCase=Ja,Un.last=Gs,Un.lastIndexOf=function(e,t,r){var i=null==e?0:e.length;if(!i)return-1;var s=i;return r!==n&&(s=(s=ga(r))<0?yn(i+s,0):wn(s,i-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,s):Vt(e,zt,s,!0)},Un.lowerCase=Za,Un.lowerFirst=Ka,Un.lt=ha,Un.lte=pa,Un.max=function(e){return e&&e.length?gr(e,ic,Cr):n},Un.maxBy=function(e,t){return e&&e.length?gr(e,cs(t,2),Cr):n},Un.mean=function(e){return Jt(e,ic)},Un.meanBy=function(e,t){return Jt(e,cs(t,2))},Un.min=function(e){return e&&e.length?gr(e,ic,Tr):n},Un.minBy=function(e,t){return e&&e.length?gr(e,cs(t,2),Tr):n},Un.stubArray=vc,Un.stubFalse=mc,Un.stubObject=function(){return{}},Un.stubString=function(){return""},Un.stubTrue=function(){return!0},Un.multiply=bc,Un.nth=function(e,t){return e&&e.length?Hr(e,ga(t)):n},Un.noConflict=function(){return dt._===this&&(dt._=Ue),this},Un.noop=uc,Un.now=Ro,Un.pad=function(e,t,n){e=wa(e);var r=(t=ga(t))?fn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return zi(gt(i),n)+e+zi(ft(i),n)},Un.padEnd=function(e,t,n){e=wa(e);var r=(t=ga(t))?fn(e):0;return t&&r<t?e+zi(t-r,n):e},Un.padStart=function(e,t,n){e=wa(e);var r=(t=ga(t))?fn(e):0;return t&&r<t?zi(t-r,n)+e:e},Un.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),In(wa(e).replace(se,""),t||0)},Un.random=function(e,t,r){if(r&&"boolean"!=typeof r&&ws(e,t,r)&&(t=r=n),r===n&&("boolean"==typeof t?(r=t,t=n):"boolean"==typeof e&&(r=e,e=n)),e===n&&t===n?(e=0,t=1):(e=da(e),t===n?(t=e,e=0):t=da(t)),e>t){var i=e;e=t,t=i}if(r||e%1||t%1){var s=bn();return wn(e+s*(t-e+lt("1e-"+((s+"").length-1))),t)}return Br(e,t)},Un.reduce=function(e,t,n){var r=Jo(e)?Mt:Bt,i=arguments.length<3;return r(e,cs(t,4),n,i,pr)},Un.reduceRight=function(e,t,n){var r=Jo(e)?Lt:Bt,i=arguments.length<3;return r(e,cs(t,4),n,i,fr)},Un.repeat=function(e,t,r){return t=(r?ws(e,t,r):t===n)?1:ga(t),Fr(wa(e),t)},Un.replace=function(){var e=arguments,t=wa(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Un.result=function(e,t,r){var i=-1,s=(t=wi(t,e)).length;for(s||(s=1,e=n);++i<s;){var o=null==e?n:e[Ls(t[i])];o===n&&(i=s,o=r),e=Yo(o)?o.call(e):o}return e},Un.round=Ec,Un.runInContext=e,Un.sample=function(e){return(Jo(e)?Qn:Qr)(e)},Un.size=function(e){if(null==e)return 0;if(Ko(e))return ca(e)?fn(e):e.length;var t=ds(e);return t==E||t==O?e.size:Mr(e).length},Un.snakeCase=Ba,Un.some=function(e,t,r){var i=Jo(e)?Tt:ii;return r&&ws(e,t,r)&&(t=n),i(e,cs(t,3))},Un.sortedIndex=function(e,t){return si(e,t)},Un.sortedIndexBy=function(e,t,n){return oi(e,t,cs(n,2))},Un.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=si(e,t);if(r<n&&Vo(e[r],t))return r}return-1},Un.sortedLastIndex=function(e,t){return si(e,t,!0)},Un.sortedLastIndexBy=function(e,t,n){return oi(e,t,cs(n,2),!0)},Un.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=si(e,t,!0)-1;if(Vo(e[n],t))return n}return-1},Un.startCase=Fa,Un.startsWith=function(e,t,n){return e=wa(e),n=null==n?0:ar(ga(n),0,e.length),t=ui(t),e.slice(n,n+t.length)==t},Un.subtract=Pc,Un.sum=function(e){return e&&e.length?Ft(e,ic):0},Un.sumBy=function(e,t){return e&&e.length?Ft(e,cs(t,2)):0},Un.template=function(e,t,r){var i=Un.templateSettings;r&&ws(e,t,r)&&(t=n),e=wa(e),t=ba({},t,i,Yi);var s,o,a=ba({},t.imports,i.imports,Yi),c=ja(a),u=Xt(a,c),l=0,h=t.interpolate||Ie,p="__p += '",f=Re((t.escape||Ie).source+"|"+h.source+"|"+(h===X?fe:Ie).source+"|"+(t.evaluate||Ie).source+"|$","g"),d="//# sourceURL="+($e.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ot+"]")+"\n";e.replace(f,(function(t,n,r,i,a,c){return r||(r=i),p+=e.slice(l,c).replace(be,an),n&&(s=!0,p+="' +\n__e("+n+") +\n'"),a&&(o=!0,p+="';\n"+a+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=c+t.length,t})),p+="';\n";var g=$e.call(t,"variable")&&t.variable;if(g){if(he.test(g))throw new Ee("Invalid `variable` option passed into `_.template`")}else p="with (obj) {\n"+p+"\n}\n";p=(o?p.replace(H,""):p).replace(z,"$1").replace(J,"$1;"),p="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var v=Xa((function(){return Pe(c,d+"return "+p).apply(n,u)}));if(v.source=p,Qo(v))throw v;return v},Un.times=function(e,t){if((e=ga(e))<1||e>p)return[];var n=d,r=wn(e,d);t=cs(t),e-=d;for(var i=Gt(r,t);++n<e;)t(n);return i},Un.toFinite=da,Un.toInteger=ga,Un.toLength=va,Un.toLower=function(e){return wa(e).toLowerCase()},Un.toNumber=ma,Un.toSafeInteger=function(e){return e?ar(ga(e),-p,p):0===e?e:0},Un.toString=wa,Un.toUpper=function(e){return wa(e).toUpperCase()},Un.trim=function(e,t,r){if((e=wa(e))&&(r||t===n))return Qt(e);if(!e||!(t=ui(t)))return e;var i=dn(e),s=dn(t);return Ii(i,tn(i,s),nn(i,s)+1).join("")},Un.trimEnd=function(e,t,r){if((e=wa(e))&&(r||t===n))return e.slice(0,gn(e)+1);if(!e||!(t=ui(t)))return e;var i=dn(e);return Ii(i,0,nn(i,dn(t))+1).join("")},Un.trimStart=function(e,t,r){if((e=wa(e))&&(r||t===n))return e.replace(se,"");if(!e||!(t=ui(t)))return e;var i=dn(e);return Ii(i,tn(i,dn(t))).join("")},Un.truncate=function(e,t){var r=30,i="...";if(ta(t)){var s="separator"in t?t.separator:s;r="length"in t?ga(t.length):r,i="omission"in t?ui(t.omission):i}var o=(e=wa(e)).length;if(cn(e)){var a=dn(e);o=a.length}if(r>=o)return e;var c=r-fn(i);if(c<1)return i;var u=a?Ii(a,0,c).join(""):e.slice(0,c);if(s===n)return u+i;if(a&&(c+=u.length-c),oa(s)){if(e.slice(c).search(s)){var l,h=u;for(s.global||(s=Re(s.source,wa(de.exec(s))+"g")),s.lastIndex=0;l=s.exec(h);)var p=l.index;u=u.slice(0,p===n?c:p)}}else if(e.indexOf(ui(s),c)!=c){var f=u.lastIndexOf(s);f>-1&&(u=u.slice(0,f))}return u+i},Un.unescape=function(e){return(e=wa(e))&&F.test(e)?e.replace(Z,vn):e},Un.uniqueId=function(e){var t=++Me;return wa(e)+t},Un.upperCase=Ga,Un.upperFirst=Qa,Un.each=wo,Un.eachRight=_o,Un.first=Zs,cc(Un,function(){var e={};return _r(Un,(function(t,n){$e.call(Un.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),Un.VERSION="4.17.21",Ot(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Un[e].placeholder=Un})),Ot(["drop","take"],(function(e,t){zn.prototype[e]=function(r){r=r===n?1:yn(ga(r),0);var i=this.__filtered__&&!t?new zn(this):this.clone();return i.__filtered__?i.__takeCount__=wn(r,i.__takeCount__):i.__views__.push({size:wn(r,d),type:e+(i.__dir__<0?"Right":"")}),i},zn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Ot(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;zn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:cs(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Ot(["head","last"],(function(e,t){var n="take"+(t?"Right":"");zn.prototype[e]=function(){return this[n](1).value()[0]}})),Ot(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");zn.prototype[e]=function(){return this.__filtered__?new zn(this):this[n](1)}})),zn.prototype.compact=function(){return this.filter(ic)},zn.prototype.find=function(e){return this.filter(e).head()},zn.prototype.findLast=function(e){return this.reverse().find(e)},zn.prototype.invokeMap=Gr((function(e,t){return"function"==typeof e?new zn(this):this.map((function(n){return Nr(n,e,t)}))})),zn.prototype.reject=function(e){return this.filter(Mo(cs(e)))},zn.prototype.slice=function(e,t){e=ga(e);var r=this;return r.__filtered__&&(e>0||t<0)?new zn(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==n&&(r=(t=ga(t))<0?r.dropRight(-t):r.take(t-e)),r)},zn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},zn.prototype.toArray=function(){return this.take(d)},_r(zn.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),s=Un[i?"take"+("last"==t?"Right":""):t],o=i||/^find/.test(t);s&&(Un.prototype[t]=function(){var t=this.__wrapped__,a=i?[1]:arguments,c=t instanceof zn,u=a[0],l=c||Jo(t),h=function(e){var t=s.apply(Un,$t([e],a));return i&&p?t[0]:t};l&&r&&"function"==typeof u&&1!=u.length&&(c=l=!1);var p=this.__chain__,f=!!this.__actions__.length,d=o&&!p,g=c&&!f;if(!o&&l){t=g?t:new zn(this);var v=e.apply(t,a);return v.__actions__.push({func:fo,args:[h],thisArg:n}),new Hn(v,p)}return d&&g?e.apply(this,a):(v=this.thru(h),d?i?v.value()[0]:v.value():v)})})),Ot(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ne[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Un.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Jo(i)?i:[],e)}return this[n]((function(n){return t.apply(Jo(n)?n:[],e)}))}})),_r(zn.prototype,(function(e,t){var n=Un[t];if(n){var r=n.name+"";$e.call(An,r)||(An[r]=[]),An[r].push({name:t,func:n})}})),An[Ui(n,2).name]=[{name:"wrapper",func:n}],zn.prototype.clone=function(){var e=new zn(this.__wrapped__);return e.__actions__=qi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=qi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=qi(this.__views__),e},zn.prototype.reverse=function(){if(this.__filtered__){var e=new zn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},zn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Jo(e),r=t<0,i=n?e.length:0,s=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var s=n[r],o=s.size;switch(s.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=wn(t,e+o);break;case"takeRight":e=yn(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=s.start,a=s.end,c=a-o,u=r?a:o-1,l=this.__iteratees__,h=l.length,p=0,f=wn(c,this.__takeCount__);if(!n||!r&&i==c&&f==c)return di(e,this.__actions__);var d=[];e:for(;c--&&p<f;){for(var g=-1,v=e[u+=t];++g<h;){var m=l[g],y=m.iteratee,w=m.type,_=y(v);if(2==w)v=_;else if(!_){if(1==w)continue e;break e}}d[p++]=v}return d},Un.prototype.at=go,Un.prototype.chain=function(){return po(this)},Un.prototype.commit=function(){return new Hn(this.value(),this.__chain__)},Un.prototype.next=function(){this.__values__===n&&(this.__values__=fa(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?n:this.__values__[this.__index__++]}},Un.prototype.plant=function(e){for(var t,r=this;r instanceof Wn;){var i=ks(r);i.__index__=0,i.__values__=n,t?s.__wrapped__=i:t=i;var s=i;r=r.__wrapped__}return s.__wrapped__=e,t},Un.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof zn){var t=e;return this.__actions__.length&&(t=new zn(this)),(t=t.reverse()).__actions__.push({func:fo,args:[eo],thisArg:n}),new Hn(t,this.__chain__)}return this.thru(eo)},Un.prototype.toJSON=Un.prototype.valueOf=Un.prototype.value=function(){return di(this.__wrapped__,this.__actions__)},Un.prototype.first=Un.prototype.head,Qe&&(Un.prototype[Qe]=function(){return this}),Un}();vt?((vt.exports=mn)._=mn,gt._=mn):dt._=mn}).call(B)}(F,F.exports);var G=Object.defineProperty,Q=Object.defineProperties,Y=Object.getOwnPropertyDescriptors,X=Object.getOwnPropertySymbols,ee=Object.prototype.hasOwnProperty,te=Object.prototype.propertyIsEnumerable,ne=(e,t,n)=>t in e?G(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,re=(e,t)=>{for(var n in t||(t={}))ee.call(t,n)&&ne(e,n,t[n]);if(X)for(var n of X(t))te.call(t,n)&&ne(e,n,t[n]);return e},ie=(e,t)=>Q(e,Y(t));function se(e,t,n){var r;const i=(0,s.DQ)(e);return(null==(r=t.rpcMap)?void 0:r[i.reference])||`https://rpc.walletconnect.com/v1/?chainId=${i.namespace}:${i.reference}&projectId=${n}`}function oe(e){return e.includes(":")?e.split(":")[1]:e}function ae(e){return e.map((e=>`${e.split(":")[0]}:${e.split(":")[1]}`))}function ce(e){var t,n,r,i;const o={};if(!(0,s.L5)(e))return o;for(const[a,c]of Object.entries(e)){const e=(0,s.gp)(a)?[a]:c.chains,u=c.methods||[],l=c.events||[],h=c.rpcMap||{},p=(0,s.M)(a);o[p]=ie(re(re({},o[p]),c),{chains:(0,s.eG)(e,null==(t=o[p])?void 0:t.chains),methods:(0,s.eG)(u,null==(n=o[p])?void 0:n.methods),events:(0,s.eG)(l,null==(r=o[p])?void 0:r.events),rpcMap:re(re({},h),null==(i=o[p])?void 0:i.rpcMap)})}return o}function ue(e){return e.includes(":")?e.split(":")[2]:e}function le(e){const t={};for(const[n,r]of Object.entries(e)){const e=r.methods||[],i=r.events||[],o=r.accounts||[],a=(0,s.gp)(n)?[n]:r.chains?r.chains:ae(r.accounts);t[n]={chains:a,methods:e,events:i,accounts:o}}return t}function he(e){return"number"==typeof e?e:e.includes("0x")?parseInt(e,16):e.includes(":")?Number(e.split(":")[1]):Number(e)}const pe={},fe=e=>pe[e],de=(e,t)=>{pe[e]=t};class ge{constructor(e){this.name="polkadot",this.namespace=e.namespace,this.events=fe("events"),this.client=fe("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(K,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e&&e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2]))||[]}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{var n;const r=oe(t);e[r]=this.createHttpProvider(r,null==(n=this.namespace.rpcMap)?void 0:n[t])})),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||se(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new z.r(new H(n,fe("disableProviderPing")))}}class ve{constructor(e){this.name="eip155",this.namespace=e.namespace,this.events=fe("events"),this.client=fe("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain())}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(parseInt(e),t),this.chainId=parseInt(e),this.events.emit(K,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,t){const n=t||se(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new z.r(new W(n,fe("disableProviderPing")))}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{var n;const r=parseInt(oe(t));e[r]=this.createHttpProvider(r,null==(n=this.namespace.rpcMap)?void 0:n[t])})),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}getHttpProvider(){const e=this.chainId,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}async handleSwitchChain(e){var t,n;let r=e.request.params?null==(t=e.request.params[0])?void 0:t.chainId:"0x0";r=r.startsWith("0x")?r:`0x${r}`;const i=parseInt(r,16);if(this.isChainApproved(i))this.setDefaultChain(`${i}`);else{if(!this.namespace.methods.includes("wallet_switchEthereumChain"))throw new Error(`Failed to switch to chain 'eip155:${i}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:r}]},chainId:null==(n=this.namespace.chains)?void 0:n[0]}),this.setDefaultChain(`${i}`)}return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}}class me{constructor(e){this.name="solana",this.namespace=e.namespace,this.events=fe("events"),this.client=fe("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(K,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{var n;const r=oe(t);e[r]=this.createHttpProvider(r,null==(n=this.namespace.rpcMap)?void 0:n[t])})),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||se(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new z.r(new H(n,fe("disableProviderPing")))}}class ye{constructor(e){this.name="cosmos",this.namespace=e.namespace,this.events=fe("events"),this.client=fe("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(K,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{var n;const r=oe(t);e[r]=this.createHttpProvider(r,null==(n=this.namespace.rpcMap)?void 0:n[t])})),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||se(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new z.r(new H(n,fe("disableProviderPing")))}}class we{constructor(e){this.name="cip34",this.namespace=e.namespace,this.events=fe("events"),this.client=fe("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(K,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{const n=this.getCardanoRPCUrl(t),r=oe(t);e[r]=this.createHttpProvider(r,n)})),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}getCardanoRPCUrl(e){const t=this.namespace.rpcMap;if(t)return t[e]}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||this.getCardanoRPCUrl(e);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new z.r(new H(n,fe("disableProviderPing")))}}class _e{constructor(e){this.name="elrond",this.namespace=e.namespace,this.events=fe("events"),this.client=fe("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(K,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{var n;const r=oe(t);e[r]=this.createHttpProvider(r,null==(n=this.namespace.rpcMap)?void 0:n[t])})),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||se(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new z.r(new H(n,fe("disableProviderPing")))}}class Ie{constructor(e){this.name="multiversx",this.namespace=e.namespace,this.events=fe("events"),this.client=fe("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(K,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{var n;const r=oe(t);e[r]=this.createHttpProvider(r,null==(n=this.namespace.rpcMap)?void 0:n[t])})),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||se(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new z.r(new H(n,fe("disableProviderPing")))}}class be{constructor(e){this.name="near",this.namespace=e.namespace,this.events=fe("events"),this.client=fe("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){const n=t||se(`${this.name}:${e}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit(K,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e&&e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2]))||[]}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{var n;e[t]=this.createHttpProvider(t,null==(n=this.namespace.rpcMap)?void 0:n[t])})),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||se(e,this.namespace);return typeof n>"u"?void 0:new z.r(new H(n,fe("disableProviderPing")))}}var Ee=Object.defineProperty,Pe=Object.defineProperties,Se=Object.getOwnPropertyDescriptors,Ce=Object.getOwnPropertySymbols,Re=Object.prototype.hasOwnProperty,Oe=Object.prototype.propertyIsEnumerable,qe=(e,t,n)=>t in e?Ee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ne=(e,t)=>{for(var n in t||(t={}))Re.call(t,n)&&qe(e,n,t[n]);if(Ce)for(var n of Ce(t))Oe.call(t,n)&&qe(e,n,t[n]);return e},Ae=(e,t)=>Pe(e,Se(t));class je{constructor(e){this.events=new(i()),this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=e,this.logger=typeof e?.logger<"u"&&"string"!=typeof e?.logger?e.logger:(0,a.pino)((0,a.getDefaultLoggerOptions)({level:e?.logger||J})),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){const t=new je(e);return await t.initialize(),t}async request(e,t){const[n,r]=this.validateChain(t);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(n).request({request:Ne({},e),chainId:`${n}:${r}`,topic:this.session.topic})}sendAsync(e,t,n){this.request(e,n).then((e=>t(null,e))).catch((e=>t(e,void 0)))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:null==(e=this.session)?void 0:e.topic,reason:(0,s.D6)("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}removeListener(e,t){this.events.removeListener(e,t)}off(e,t){this.events.off(e,t)}get isWalletConnect(){return!0}async pair(e){this.shouldAbortPairingAttempt=!1;let t=0;do{if(this.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(t>=this.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");const{uri:n,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});n&&(this.uri=n,this.events.emit("display_uri",n)),await r().then((e=>{this.session=e,this.namespaces||(this.namespaces=le(e.namespaces),this.persist("namespaces",this.namespaces))})).catch((e=>{if(e.message!==v)throw e;t++}))}while(!this.session);return this.onConnect(),this.session}setDefaultChain(e,t){try{if(!this.session)return;const[n,r]=this.validateChain(e);this.getProvider(n).setDefaultChain(r,t)}catch(n){if(!/Please call connect/.test(n.message))throw n}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const t=this.client.pairing.getAll();if((0,s.qt)(t)){for(const n of t)e.deletePairings?this.client.core.expirer.set(n.topic,0):await this.client.core.relayer.subscriber.unsubscribe(n.topic);this.logger.info(`Inactive pairings cleared: ${t.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces"),this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){const e=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[e]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await M.init({logger:this.providerOpts.logger||J,relayUrl:this.providerOpts.relayUrl||"wss://relay.walletconnect.com",projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map((e=>(0,s.M)(e))))];de("client",this.client),de("events",this.events),de("disableProviderPing",this.disableProviderPing),e.forEach((e=>{if(!this.session)return;const t=function(e,t){const n=Object.keys(t.namespaces).filter((t=>t.includes(e)));if(!n.length)return[];const r=[];return n.forEach((e=>{const n=t.namespaces[e].accounts;r.push(...n)})),r}(e,this.session),n=ae(t),r=function(e={},t={}){const n=ce(e),r=ce(t);return F.exports.merge(n,r)}(this.namespaces,this.optionalNamespaces),i=Ae(Ne({},r[e]),{accounts:t,chains:n});switch(e){case"eip155":this.rpcProviders[e]=new ve({namespace:i});break;case"solana":this.rpcProviders[e]=new me({namespace:i});break;case"cosmos":this.rpcProviders[e]=new ye({namespace:i});break;case"polkadot":this.rpcProviders[e]=new ge({namespace:i});break;case"cip34":this.rpcProviders[e]=new we({namespace:i});break;case"elrond":this.rpcProviders[e]=new _e({namespace:i});break;case"multiversx":this.rpcProviders[e]=new Ie({namespace:i});break;case"near":this.rpcProviders[e]=new be({namespace:i})}}))}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",(e=>{this.events.emit("session_ping",e)})),this.client.on("session_event",(e=>{const{params:t}=e,{event:n}=t;if("accountsChanged"===n.name){const e=n.data;e&&(0,s.qt)(e)&&this.events.emit("accountsChanged",e.map(ue))}else if("chainChanged"===n.name){const e=t.chainId,n=t.event.data,r=(0,s.M)(e),i=he(e)!==he(n)?`${r}:${he(n)}`:e;this.onChainChanged(i)}else this.events.emit(n.name,n.data);this.events.emit("session_event",e)})),this.client.on("session_update",(({topic:e,params:t})=>{var n;const{namespaces:r}=t,i=null==(n=this.client)?void 0:n.session.get(e);this.session=Ae(Ne({},i),{namespaces:r}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:t})})),this.client.on("session_delete",(async e=>{await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",Ae(Ne({},(0,s.D6)("USER_DISCONNECTED")),{data:e.topic}))})),this.on(K,(e=>{this.onChainChanged(e,!0)}))}getProvider(e){if(!this.rpcProviders[e])throw new Error(`Provider not found: ${e}`);return this.rpcProviders[e]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach((e=>{var t;this.getProvider(e).updateNamespace(null==(t=this.session)?void 0:t.namespaces[e])}))}setNamespaces(e){const{namespaces:t,optionalNamespaces:n,sessionProperties:r}=e;t&&Object.keys(t).length&&(this.namespaces=t),n&&Object.keys(n).length&&(this.optionalNamespaces=n),this.sessionProperties=r,this.persist("namespaces",t),this.persist("optionalNamespaces",n)}validateChain(e){const[t,n]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[t,n];if(t&&!Object.keys(this.namespaces||{}).map((e=>(0,s.M)(e))).includes(t))throw new Error(`Namespace '${t}' is not configured. Please call connect() first with namespace config.`);if(t&&n)return[t,n];const r=(0,s.M)(Object.keys(this.namespaces)[0]);return[r,this.rpcProviders[r].getDefaultChain()]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}onChainChanged(e,t=!1){var n;if(!this.namespaces)return;const[r,i]=this.validateChain(e);t||this.getProvider(r).setDefaultChain(i),(null!=(n=this.namespaces[r])?n:this.namespaces[`${r}:${i}`]).defaultChain=i,this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",i)}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,this.persist("namespaces",void 0),this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),await this.cleanupPendingPairings({deletePairings:!0})}persist(e,t){this.client.core.storage.setItem(`${Z}/${e}`,t)}async getFromStore(e){return await this.client.core.storage.getItem(`${Z}/${e}`)}}const xe=je,De=["eth_sendTransaction","personal_sign"],$e=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],Me=["chainChanged","accountsChanged"],Le=["chainChanged","accountsChanged","message","disconnect","connect"];var Te=Object.defineProperty,ke=Object.defineProperties,Ue=Object.getOwnPropertyDescriptors,Ve=Object.getOwnPropertySymbols,We=Object.prototype.hasOwnProperty,He=Object.prototype.propertyIsEnumerable,ze=(e,t,n)=>t in e?Te(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Je=(e,t)=>{for(var n in t||(t={}))We.call(t,n)&&ze(e,n,t[n]);if(Ve)for(var n of Ve(t))He.call(t,n)&&ze(e,n,t[n]);return e},Ze=(e,t)=>ke(e,Ue(t));function Ke(e){return Number(e[0].split(":")[1])}function Be(e){return`0x${e.toString(16)}`}class Fe{constructor(){this.events=new r.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY="wc@2:ethereum_provider:",this.on=(e,t)=>(this.events.on(e,t),this),this.once=(e,t)=>(this.events.once(e,t),this),this.removeListener=(e,t)=>(this.events.removeListener(e,t),this),this.off=(e,t)=>(this.events.off(e,t),this),this.parseAccount=e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e,this.signer={},this.rpc={}}static async init(e){const t=new Fe;return await t.initialize(e),t}async request(e){return await this.signer.request(e,this.formatChainId(this.chainId))}sendAsync(e,t){this.signer.sendAsync(e,t,this.formatChainId(this.chainId))}get connected(){return!!this.signer.client&&this.signer.client.core.relayer.connected}get connecting(){return!!this.signer.client&&this.signer.client.core.relayer.connecting}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);const{required:t,optional:n}=function(e){const{chains:t,optionalChains:n,methods:r,optionalMethods:i,events:o,optionalEvents:a,rpcMap:c}=e;if(!(0,s.qt)(t))throw new Error("Invalid chains");const u={chains:t,methods:r||De,events:o||Me,rpcMap:Je({},t.length?{[Ke(t)]:c[Ke(t)]}:{})},l=o?.filter((e=>!Me.includes(e))),h=r?.filter((e=>!De.includes(e)));if(!n&&!a&&!i&&(null==l||!l.length)&&(null==h||!h.length))return{required:t.length?u:void 0};const p={chains:[...new Set(l?.length&&h?.length||!n?u.chains.concat(n||[]):n)],methods:[...new Set(u.methods.concat(null!=i&&i.length?i:$e))],events:[...new Set(u.events.concat(null!=a&&a.length?a:Le))],rpcMap:c};return{required:t.length?u:void 0,optional:n.length?p:void 0}}(this.rpc);try{const r=await new Promise((async(r,i)=>{var s;this.rpc.showQrModal&&(null==(s=this.modal)||s.subscribeModal((e=>{!e.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),i(new Error("Connection request reset. Please try again.")))}))),await this.signer.connect(Ze(Je({namespaces:Je({},t&&{[this.namespace]:t})},n&&{optionalNamespaces:{[this.namespace]:n}}),{pairingTopic:e?.pairingTopic})).then((e=>{r(e)})).catch((e=>{i(new Error(e.message))}))}));if(!r)return;const i=(0,s.gu)(r.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:i),this.setAccounts(i),this.events.emit("connect",{chainId:Be(this.chainId)})}catch(r){throw this.signer.logger.error(r),r}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",(e=>{const{params:t}=e,{event:n}=t;"accountsChanged"===n.name?(this.accounts=this.parseAccounts(n.data),this.events.emit("accountsChanged",this.accounts)):"chainChanged"===n.name?this.setChainId(this.formatChainId(n.data)):this.events.emit(n.name,n.data),this.events.emit("session_event",e)})),this.signer.on("chainChanged",(e=>{const t=parseInt(e);this.chainId=t,this.events.emit("chainChanged",Be(this.chainId)),this.persist()})),this.signer.on("session_update",(e=>{this.events.emit("session_update",e)})),this.signer.on("session_delete",(e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",Ze(Je({},(0,s.D6)("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))})),this.signer.on("display_uri",(e=>{var t,n;this.rpc.showQrModal&&(null==(t=this.modal)||t.closeModal(),null==(n=this.modal)||n.openModal({uri:e})),this.events.emit("display_uri",e)}))}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return"string"==typeof e&&e.startsWith(`${this.namespace}:`)}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){const t=e.filter((e=>this.isCompatibleChainId(e))).map((e=>this.parseChainId(e)));t.length&&(this.chainId=t[0],this.events.emit("chainChanged",Be(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){const t=this.parseChainId(e);this.chainId=t,this.switchEthereumChain(t)}}parseAccountId(e){const[t,n,r]=e.split(":");return{chainId:`${t}:${n}`,address:r}}setAccounts(e){this.accounts=e.filter((e=>this.parseChainId(this.parseAccountId(e).chainId)===this.chainId)).map((e=>this.parseAccountId(e).address)),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var t,n;const r=null!=(t=e?.chains)?t:[],i=null!=(n=e?.optionalChains)?n:[],s=r.concat(i);if(!s.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const o=r.length?e?.methods||De:[],a=r.length?e?.events||Me:[],c=e?.optionalMethods||[],u=e?.optionalEvents||[],l=e?.rpcMap||this.buildRpcMap(s,e.projectId),h=e?.qrModalOptions||void 0;return{chains:r?.map((e=>this.formatChainId(e))),optionalChains:i.map((e=>this.formatChainId(e))),methods:o,events:a,optionalMethods:c,optionalEvents:u,rpcMap:l,showQrModal:!(null==e||!e.showQrModal),qrModalOptions:h,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,t){const n={};return e.forEach((e=>{n[e]=this.getRpcUrl(e,t)})),n}async initialize(e){if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?Ke(this.rpc.chains):Ke(this.rpc.optionalChains),this.signer=await xe.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storageOptions:e.storageOptions}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let e;try{e=n(45161).u}catch{throw new Error("To use QR modal, please install @walletconnect/modal package")}if(e)try{this.modal=new e(Je({walletConnectVersion:2,projectId:this.rpc.projectId,standaloneChains:this.rpc.chains},this.rpc.qrModalOptions))}catch(t){throw this.signer.logger.error(t),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;const{chains:t,optionalChains:n,rpcMap:r}=e;t&&(0,s.qt)(t)&&(this.rpc.chains=t.map((e=>this.formatChainId(e))),t.forEach((e=>{this.rpc.rpcMap[e]=r?.[e]||this.getRpcUrl(e)}))),n&&(0,s.qt)(n)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=n?.map((e=>this.formatChainId(e))),n.forEach((e=>{this.rpc.rpcMap[e]=r?.[e]||this.getRpcUrl(e)})))}getRpcUrl(e,t){var n;return(null==(n=this.rpc.rpcMap)?void 0:n[e])||`https://rpc.walletconnect.com/v1/?chainId=eip155:${e}&projectId=${t||this.rpc.projectId}`}async loadPersistedSession(){if(!this.session)return;const e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),t=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:t?.accounts),this.setAccounts(t?.accounts)}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return"string"==typeof e||e instanceof String?[this.parseAccount(e)]:e.map((e=>this.parseAccount(e)))}}const Ge=Fe},92308:function(e,t,n){n.d(t,{t0:function(){return E},zv:function(){return m},uA:function(){return w},uc:function(){return V},jb:function(){return H},zb:function(){return I},AV:function(){return v},Ic:function(){return G},Vs:function(){return Y}});Symbol();const r=Symbol();const i=Object.getPrototypeOf,s=new WeakMap,o=e=>e&&(s.has(e)?s.get(e):i(e)===Object.prototype||i(e)===Array.prototype),a=(e,t=!0)=>{s.set(e,t)},c=e=>"object"===typeof e&&null!==e,u=new WeakMap,l=new WeakSet,h=(e=Object.is,t=((e,t)=>new Proxy(e,t)),n=(e=>c(e)&&!l.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer)),i=(e=>{switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e}}),s=new WeakMap,h=((e,t,n=i)=>{const r=s.get(e);if((null==r?void 0:r[0])===t)return r[1];const o=Array.isArray(e)?[]:Object.create(Object.getPrototypeOf(e));return a(o,!0),s.set(e,[t,o]),Reflect.ownKeys(e).forEach((t=>{if(Object.getOwnPropertyDescriptor(o,t))return;const r=Reflect.get(e,t),i={value:r,enumerable:!0,configurable:!0};if(l.has(r))a(r,!1);else if(r instanceof Promise)delete i.value,i.get=()=>n(r);else if(u.has(r)){const[e,t]=u.get(r);i.value=h(e,t(),n)}Object.defineProperty(o,t,i)})),Object.preventExtensions(o)}),p=new WeakMap,f=[1,1],d=(i=>{if(!c(i))throw new Error("object required");const s=p.get(i);if(s)return s;let a=f[0];const g=new Set,v=(e,t=++f[0])=>{a!==t&&(a=t,g.forEach((n=>n(e,t))))};let m=f[1];const y=e=>(t,n)=>{const r=[...t];r[1]=[e,...r[1]],v(r,n)},w=new Map,_=e=>{var t;const n=w.get(e);n&&(w.delete(e),null==(t=n[1])||t.call(n))},I=Array.isArray(i)?[]:Object.create(Object.getPrototypeOf(i)),b={deleteProperty(e,t){const n=Reflect.get(e,t);_(t);const r=Reflect.deleteProperty(e,t);return r&&v(["delete",[t],n]),r},set(t,i,s,a){const h=Reflect.has(t,i),f=Reflect.get(t,i,a);if(h&&(e(f,s)||p.has(s)&&e(f,p.get(s))))return!0;_(i),c(s)&&(s=(e=>o(e)&&e[r]||null)(s)||s);let m=s;if(s instanceof Promise)s.then((e=>{s.status="fulfilled",s.value=e,v(["resolve",[i],e])})).catch((e=>{s.status="rejected",s.reason=e,v(["reject",[i],e])}));else{!u.has(s)&&n(s)&&(m=d(s));const e=!l.has(m)&&u.get(m);e&&((e,t)=>{if(w.has(e))throw new Error("prop listener already exists");if(g.size){const n=t[3](y(e));w.set(e,[t,n])}else w.set(e,[t])})(i,e)}return Reflect.set(t,i,m,a),v(["set",[i],s,f]),!0}},E=t(I,b);p.set(i,E);const P=[I,(e=++f[1])=>(m===e||g.size||(m=e,w.forEach((([t])=>{const n=t[1](e);n>a&&(a=n)}))),a),h,e=>{g.add(e),1===g.size&&w.forEach((([e,t],n)=>{if(t)throw new Error("remove already exists");const r=e[3](y(n));w.set(n,[e,r])}));return()=>{g.delete(e),0===g.size&&w.forEach((([e,t],n)=>{t&&(t(),w.set(n,[e]))}))}}];return u.set(E,P),Reflect.ownKeys(i).forEach((e=>{const t=Object.getOwnPropertyDescriptor(i,e);"value"in t&&(E[e]=i[e],delete t.value,delete t.writable),Object.defineProperty(I,e,t)})),E}))=>[d,u,l,e,t,n,i,s,h,p,f],[p]=h();function f(e={}){return p(e)}function d(e,t,n){const r=u.get(e);let i;r||console.warn("Please use proxy object");const s=[],o=r[3];let a=!1;const c=o((e=>{s.push(e),n?t(s.splice(0)):i||(i=Promise.resolve().then((()=>{i=void 0,a&&t(s.splice(0))})))}));return a=!0,()=>{a=!1,c()}}const g=f({history:["ConnectWallet"],view:"ConnectWallet",data:void 0}),v={state:g,subscribe:e=>d(g,(()=>e(g))),push(e,t){e!==g.view&&(g.view=e,t&&(g.data=t),g.history.push(e))},reset(e){g.view=e,g.history=[e]},replace(e){g.history.length>1&&(g.history[g.history.length-1]=e,g.view=e)},goBack(){if(g.history.length>1){g.history.pop();const[e]=g.history.slice(-1);g.view=e}},setData(e){g.data=e}},m={WALLETCONNECT_DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",WCM_VERSION:"WCM_VERSION",RECOMMENDED_WALLET_AMOUNT:9,isMobile:()=>typeof window<"u"&&Boolean(window.matchMedia("(pointer:coarse)").matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)),isAndroid:()=>m.isMobile()&&navigator.userAgent.toLowerCase().includes("android"),isIos(){const e=navigator.userAgent.toLowerCase();return m.isMobile()&&(e.includes("iphone")||e.includes("ipad"))},isHttpUrl:e=>e.startsWith("http://")||e.startsWith("https://"),isArray:e=>Array.isArray(e)&&e.length>0,formatNativeUrl(e,t,n){if(m.isHttpUrl(e))return this.formatUniversalUrl(e,t,n);let r=e;r.includes("://")||(r=e.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),this.setWalletConnectDeepLink(r,n);return`${r}wc?uri=${encodeURIComponent(t)}`},formatUniversalUrl(e,t,n){if(!m.isHttpUrl(e))return this.formatNativeUrl(e,t,n);let r=e;r.endsWith("/")||(r=`${r}/`),this.setWalletConnectDeepLink(r,n);return`${r}wc?uri=${encodeURIComponent(t)}`},wait:async e=>new Promise((t=>{setTimeout(t,e)})),openHref(e,t){window.open(e,t,"noreferrer noopener")},setWalletConnectDeepLink(e,t){try{localStorage.setItem(m.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},setWalletConnectAndroidDeepLink(e){try{const[t]=e.split("?");localStorage.setItem(m.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:t,name:"Android"}))}catch{console.info("Unable to set WalletConnect android deep link")}},removeWalletConnectDeepLink(){try{localStorage.removeItem(m.WALLETCONNECT_DEEPLINK_CHOICE)}catch{console.info("Unable to remove WalletConnect deep link")}},setModalVersionInStorage(){try{typeof localStorage<"u"&&localStorage.setItem(m.WCM_VERSION,"2.6.2")}catch{console.info("Unable to set Web3Modal version in storage")}},getWalletRouterData(){var e;const t=null==(e=v.state.data)?void 0:e.Wallet;if(!t)throw new Error('Missing "Wallet" view data');return t}},y=f({enabled:typeof location<"u"&&(location.hostname.includes("localhost")||location.protocol.includes("https")),userSessionId:"",events:[],connectedWalletId:void 0}),w={state:y,subscribe:e=>d(y.events,(()=>e(function(e,t){const n=u.get(e);n||console.warn("Please use proxy object");const[r,i,s]=n;return s(r,i(),t)}(y.events[y.events.length-1])))),initialize(){y.enabled&&typeof(null==crypto?void 0:crypto.randomUUID)<"u"&&(y.userSessionId=crypto.randomUUID())},setConnectedWalletId(e){y.connectedWalletId=e},click(e){if(y.enabled){const t={type:"CLICK",name:e.name,userSessionId:y.userSessionId,timestamp:Date.now(),data:e};y.events.push(t)}},track(e){if(y.enabled){const t={type:"TRACK",name:e.name,userSessionId:y.userSessionId,timestamp:Date.now(),data:e};y.events.push(t)}},view(e){if(y.enabled){const t={type:"VIEW",name:e.name,userSessionId:y.userSessionId,timestamp:Date.now(),data:e};y.events.push(t)}}},_=f({chains:void 0,walletConnectUri:void 0,isAuth:!1,isCustomDesktop:!1,isCustomMobile:!1,isDataLoaded:!1,isUiLoaded:!1}),I={state:_,subscribe:e=>d(_,(()=>e(_))),setChains(e){_.chains=e},setWalletConnectUri(e){_.walletConnectUri=e},setIsCustomDesktop(e){_.isCustomDesktop=e},setIsCustomMobile(e){_.isCustomMobile=e},setIsDataLoaded(e){_.isDataLoaded=e},setIsUiLoaded(e){_.isUiLoaded=e},setIsAuth(e){_.isAuth=e}},b=f({projectId:"",mobileWallets:void 0,desktopWallets:void 0,walletImages:void 0,chains:void 0,enableAuthMode:!1,enableExplorer:!0,explorerExcludedWalletIds:void 0,explorerRecommendedWalletIds:void 0,termsOfServiceUrl:void 0,privacyPolicyUrl:void 0}),E={state:b,subscribe:e=>d(b,(()=>e(b))),setConfig(e){var t,n;w.initialize(),I.setChains(e.chains),I.setIsAuth(Boolean(e.enableAuthMode)),I.setIsCustomMobile(Boolean(null==(t=e.mobileWallets)?void 0:t.length)),I.setIsCustomDesktop(Boolean(null==(n=e.desktopWallets)?void 0:n.length)),m.setModalVersionInStorage(),Object.assign(b,e)}};var P=Object.defineProperty,S=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable,O=(e,t,n)=>t in e?P(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const q="https://explorer-api.walletconnect.com",N="wcm",A="js-2.6.2";async function j(e,t){const n=((e,t)=>{for(var n in t||(t={}))C.call(t,n)&&O(e,n,t[n]);if(S)for(var n of S(t))R.call(t,n)&&O(e,n,t[n]);return e})({sdkType:N,sdkVersion:A},t),r=new URL(e,q);return r.searchParams.append("projectId",E.state.projectId),Object.entries(n).forEach((([e,t])=>{t&&r.searchParams.append(e,String(t))})),(await fetch(r)).json()}const x={getDesktopListings:async e=>j("/w3m/v1/getDesktopListings",e),getMobileListings:async e=>j("/w3m/v1/getMobileListings",e),getInjectedListings:async e=>j("/w3m/v1/getInjectedListings",e),getAllListings:async e=>j("/w3m/v1/getAllListings",e),getWalletImageUrl:e=>`${q}/w3m/v1/getWalletImage/${e}?projectId=${E.state.projectId}&sdkType=wcm&sdkVersion=js-2.6.2`,getAssetImageUrl:e=>`${q}/w3m/v1/getAssetImage/${e}?projectId=${E.state.projectId}&sdkType=wcm&sdkVersion=js-2.6.2`};var D=Object.defineProperty,$=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable,T=(e,t,n)=>t in e?D(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const k=m.isMobile(),U=f({wallets:{listings:[],total:0,page:1},search:{listings:[],total:0,page:1},recomendedWallets:[]}),V={state:U,async getRecomendedWallets(){const{explorerRecommendedWalletIds:e,explorerExcludedWalletIds:t}=E.state;if("NONE"===e||"ALL"===t&&!e)return U.recomendedWallets;if(m.isArray(e)){const t={recommendedIds:e.join(",")},{listings:n}=await x.getAllListings(t),r=Object.values(n);r.sort(((t,n)=>e.indexOf(t.id)-e.indexOf(n.id))),U.recomendedWallets=r}else{const{chains:e,isAuth:n}=I.state,r=e?.join(","),i=m.isArray(t),s={page:1,sdks:n?"auth_v1":void 0,entries:m.RECOMMENDED_WALLET_AMOUNT,chains:r,version:2,excludedIds:i?t.join(","):void 0},{listings:o}=k?await x.getMobileListings(s):await x.getDesktopListings(s);U.recomendedWallets=Object.values(o)}return U.recomendedWallets},async getWallets(e){const t=((e,t)=>{for(var n in t||(t={}))M.call(t,n)&&T(e,n,t[n]);if($)for(var n of $(t))L.call(t,n)&&T(e,n,t[n]);return e})({},e),{explorerRecommendedWalletIds:n,explorerExcludedWalletIds:r}=E.state,{recomendedWallets:i}=U;if("ALL"===r)return U.wallets;i.length?t.excludedIds=i.map((e=>e.id)).join(","):m.isArray(n)&&(t.excludedIds=n.join(",")),m.isArray(r)&&(t.excludedIds=[t.excludedIds,r].filter(Boolean).join(",")),I.state.isAuth&&(t.sdks="auth_v1");const{page:s,search:o}=e,{listings:a,total:c}=k?await x.getMobileListings(t):await x.getDesktopListings(t),u=Object.values(a),l=o?"search":"wallets";return U[l]={listings:[...U[l].listings,...u],total:c,page:s??1},{listings:u,total:c}},getWalletImageUrl:e=>x.getWalletImageUrl(e),getAssetImageUrl:e=>x.getAssetImageUrl(e),resetSearch(){U.search={listings:[],total:0,page:1}}},W=f({open:!1}),H={state:W,subscribe:e=>d(W,(()=>e(W))),open:async e=>new Promise((t=>{const{isUiLoaded:n,isDataLoaded:r}=I.state;if(m.removeWalletConnectDeepLink(),I.setWalletConnectUri(e?.uri),I.setChains(e?.chains),v.reset("ConnectWallet"),n&&r)W.open=!0,t();else{const e=setInterval((()=>{const n=I.state;n.isUiLoaded&&n.isDataLoaded&&(clearInterval(e),W.open=!0,t())}),200)}})),close(){W.open=!1}};var z=Object.defineProperty,J=Object.getOwnPropertySymbols,Z=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable,B=(e,t,n)=>t in e?z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const F=f({themeMode:typeof matchMedia<"u"&&matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}),G={state:F,subscribe:e=>d(F,(()=>e(F))),setThemeConfig(e){const{themeMode:t,themeVariables:n}=e;t&&(F.themeMode=t),n&&(F.themeVariables=((e,t)=>{for(var n in t||(t={}))Z.call(t,n)&&B(e,n,t[n]);if(J)for(var n of J(t))K.call(t,n)&&B(e,n,t[n]);return e})({},n))}},Q=f({open:!1,message:"",variant:"success"}),Y={state:Q,subscribe:e=>d(Q,(()=>e(Q))),openToast(e,t){Q.open=!0,Q.message=e,Q.variant=t},closeToast(){Q.open=!1}}},45161:function(e,t,n){n.d(t,{u:function(){return i}});var r=n(92308);class i{constructor(e){this.openModal=r.jb.open,this.closeModal=r.jb.close,this.subscribeModal=r.jb.subscribe,this.setTheme=r.Ic.setThemeConfig,r.Ic.setThemeConfig(e),r.t0.setConfig(e),this.initUi()}async initUi(){if(typeof window<"u"){await n.e(4648).then(n.bind(n,74648));const e=document.createElement("wcm-modal");document.body.insertAdjacentElement("beforeend",e),r.zb.setIsUiLoaded(!0)}}}}}]);